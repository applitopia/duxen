!function o(a,s,u){function c(e,t){if(!s[e]){if(!a[e]){var r="function"==typeof require&&require;if(!t&&r)return r(e,!0);if(h)return h(e,!0);var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}var i=s[e]={exports:{}};a[e][0].call(i.exports,function(t){return c(a[e][1][t]||t)},i,i.exports,o,a,s,u)}return s[e].exports}for(var h="function"==typeof require&&require,t=0;t<u.length;t++)c(u[t]);return c}({1:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=t("immutable-sorted");(n=t("./CommonEngine"))&&n.__esModule;function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t){return t}function u(t){return s((0,i.fromJS)(t))}var a=function(){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.engine=t}return function(t,e,r){e&&o(t.prototype,e),r&&o(t,r)}(e,[{key:"_verifyName",value:function(t,e){var r=this.engine._compiledSchema.names[t];if(!r)throw new Error("Missing name in schema: "+t);if(r.type!==e)throw new Error("Not a "+e+": "+t)}},{key:"_verifyCollection",value:function(t){this._verifyName(t,"collection")}},{key:"_verifyValueName",value:function(t){this._verifyName(t,"value")}},{key:"_verifyCustomValueName",value:function(t){this._verifyName(t,"customValue")}},{key:"_verifyCustomName",value:function(t){this._verifyName(t,"custom")}},{key:"_action",value:function(t){Object.freeze(t);for(var e=this.engine._listeners,r=0;r<e.length;r++){(0,e[r])(t)}}},{key:"batch",value:function(t){var e={type:"DUXEN_BATCH",actions:(0,i.List)(t)};return this._action(e),e}},{key:"insert",value:function(t,e,r){this._verifyCollection(t);var n={type:"DUXEN_INSERT",collName:t,id:e=u(e),doc:r=u(r)};return this._action(n),n}},{key:"update",value:function(t,e,r){this._verifyCollection(t);var n={type:"DUXEN_UPDATE",collName:t,id:e=u(e),doc:r=u(r)};return this._action(n),n}},{key:"remove",value:function(t,e){this._verifyCollection(t);var r={type:"DUXEN_REMOVE",collName:t,id:e=u(e)};return this._action(r),r}},{key:"reset",value:function(t){this._verifyCollection(t);var e={type:"DUXEN_RESET",collName:t};return this._action(e),e}},{key:"pause",value:function(t){this._verifyCollection(t);var e={type:"DUXEN_PAUSE",collName:t};return this._action(e),e}},{key:"resume",value:function(t){this._verifyCollection(t);var e={type:"DUXEN_RESUME",collName:t};return this._action(e),e}},{key:"save",value:function(t){this._verifyCollection(t);var e={type:"DUXEN_SAVE",collName:t};return this._action(e),e}},{key:"restore",value:function(t){this._verifyCollection(t);var e={type:"DUXEN_RESTORE",collName:t};return this._action(e),e}},{key:"saveOriginals",value:function(t){this._verifyCollection(t);var e={type:"DUXEN_SAVE_ORIGINALS",collName:t};return this._action(e),e}},{key:"retrieveOriginals",value:function(t){this._verifyCollection(t);var e={type:"DUXEN_RETRIEVE_ORIGINALS",collName:t};return this._action(e),e}},{key:"init",value:function(t){var e={type:"DUXEN_INIT",state:t};return this._action(e),e}},{key:"refresh",value:function(){var t={type:"DUXEN_REFRESH"};return this._action(t),t}},{key:"value",value:function(t,e){this._verifyValueName(t);var r={type:"DUXEN_VALUE",valueName:t,value:e=u(e)};return this._action(r),r}},{key:"customValue",value:function(t,e){this._verifyCustomValueName(t);var r=this.engine._compiledSchema.names[t],n=s(r.schemaEntry),i=n.actionType;if(!i)throw new Error("Missing actionType in value schema: "+JSON.stringify(n));if(n.action){var o=n.action(e);return this._action(o),o}e=u(e);var a={type:r.namePrefix+i,value:e};return this._action(a),a}},{key:"custom",value:function(t){this._verifyCustomName(t);var e=this.engine._compiledSchema.names[t],r=s(e.schemaEntry),n=r.actionType;if(!n)throw new Error("Missing actionType in custom schema: "+JSON.stringify(r));if(!r.action)throw new Error("Missing action in custom schema: "+JSON.stringify(r));var i=r.action();if(void 0!==i.type&&i.type!==n)throw new Error("Inconsistent custom action type: "+JSON.stringify(i.type)+" vs "+n);return i.type=e.namePrefix+n,this._action(i),i}},{key:"createBranch",value:function(t){var e={type:"DUXEN_CREATE_BRANCH",branchName:t};return this._action(e),e}},{key:"switchBranch",value:function(t){var e={type:"DUXEN_SWITCH_BRANCH",branchName:t};return this._action(e),e}},{key:"saveBranch",value:function(t){var e={type:"DUXEN_SAVE_BRANCH",branchName:t};return this._action(e),e}},{key:"resetBranch",value:function(t){var e={type:"DUXEN_RESET_BRANCH",branchName:t};return this._action(e),e}},{key:"removeBranch",value:function(t){var e={type:"DUXEN_REMOVE_BRANCH",branchName:t};return this._action(e),e}},{key:"goForward",value:function(t){var e={type:"DUXEN_GO_FORWARD",steps:t};return this._action(e),e}},{key:"goBack",value:function(t){var e={type:"DUXEN_GO_BACK",steps:t};return this._action(e),e}},{key:"goLive",value:function(){var t={type:"DUXEN_GO_LIVE"};return this._action(t),t}},{key:"setOption",value:function(t,e){var r={type:"DUXEN_SET_OPTION",optionName:t,optionValue:e};return this._action(r),r}}]),e}();r.default=a},{"./CommonEngine":3,"immutable-sorted":11}],2:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;t("immutable-sorted");function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var i=function(){function r(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),this._dispatch=t,this._actionFactory=e}return function(t,e,r){e&&n(t.prototype,e),r&&n(t,r)}(r,[{key:"batch",value:function(t){var e=this._actionFactory.batch(t);return this._dispatch(e),e}},{key:"insert",value:function(t,e,r){var n=this._actionFactory.insert(t,e,r);return this._dispatch(n),n}},{key:"update",value:function(t,e,r){var n=this._actionFactory.update(t,e,r);return this._dispatch(n),n}},{key:"remove",value:function(t,e){var r=this._actionFactory.remove(t,e);return this._dispatch(r),r}},{key:"reset",value:function(t){var e=this._actionFactory.reset(t);return this._dispatch(e),e}},{key:"pause",value:function(t){var e=this._actionFactory.pause(t);return this._dispatch(e),e}},{key:"resume",value:function(t){var e=this._actionFactory.resume(t);return this._dispatch(e),e}},{key:"save",value:function(t){var e=this._actionFactory.save(t);return this._dispatch(e),e}},{key:"restore",value:function(t){var e=this._actionFactory.restore(t);return this._dispatch(e),e}},{key:"saveOriginals",value:function(t){var e=this._actionFactory.saveOriginals(t);return this._dispatch(e),e}},{key:"retrieveOriginals",value:function(t){var e=this._actionFactory.retrieveOriginals(t);return this._dispatch(e),e}},{key:"refresh",value:function(){var t=this._actionFactory.refresh();return this._dispatch(t),t}},{key:"value",value:function(t,e){var r=this._actionFactory.value(t,e);return this._dispatch(r),r}},{key:"customValue",value:function(t,e){var r=this._actionFactory.customValue(t,e);return this._dispatch(r),r}},{key:"custom",value:function(t){var e=this._actionFactory.custom(t);return this._dispatch(e),e}},{key:"createBranch",value:function(t){var e=this._actionFactory.createBranch(t);return this._dispatch(e),e}},{key:"switchBranch",value:function(t){var e=this._actionFactory.switchBranch(t);return this._dispatch(e),e}},{key:"saveBranch",value:function(t){var e=this._actionFactory.saveBranch(t);return this._dispatch(e),e}},{key:"resetBranch",value:function(t){var e=this._actionFactory.resetBranch(t);return this._dispatch(e),e}},{key:"removeBranch",value:function(t){var e=this._actionFactory.removeBranch(t);return this._dispatch(e),e}},{key:"goForward",value:function(t){var e=this._actionFactory.goForward(t);return this._dispatch(e),e}},{key:"goBack",value:function(t){var e=this._actionFactory.goBack(t);return this._dispatch(e),e}},{key:"goLive",value:function(){var t=this._actionFactory.goLive();return this._dispatch(t),t}},{key:"setOption",value:function(t,e){var r=this._actionFactory.setOption(t,e);return this._dispatch(r),r}}]),r}();r.default=i},{"immutable-sorted":11}],3:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=t("immutable-sorted"),n=t("./SchemaCompiler"),i=u(t("./SubEngine")),a=u(t("./ActionFactory")),s=u(t("./BoundActionFactory"));function u(t){return t&&t.__esModule?t:{default:t}}function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function h(t,e,r){return e&&c(t.prototype,e),r&&c(t,r),t}var f=function(){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this._compiledSchema=(0,n.compileSchema)(t),this._actionFactory=new a.default(this),this._listeners=[]}return h(e,[{key:"_verifyName",value:function(t,e){var r=this._compiledSchema.names[t];if(!r)throw new Error("Missing name in schema: "+t);if(r.type!==e)throw new Error("Not a "+e+": "+t)}}]),h(e,[{key:"_getCompiledName",value:function(t){var e=this._compiledSchema.names[t];if(!e)throw new Error("Name not found in schema: "+t);return e}},{key:"_getNameType",value:function(t){var e=this._compiledSchema.names[t];if(!e)throw new Error("Missing name in schema: "+t);return e.type}},{key:"get",value:function(t,e){if(!e)return t;var r=this._getCompiledName(e);return t.getIn(r.path)}},{key:"subscribe",value:function(e){var r=this;if("function"!=typeof e)throw new Error("Listener must be a function.");var n=!0;return this._listeners.push(e),function(){if(n){n=!1;var t=r._listeners.indexOf(e);r._listeners.splice(t,1)}}}},{key:"printableState",value:function(t){return t?t.withMutations(function(t){t.delete("_state")}):t}},{key:"persistableState",value:function(n){var i=this;return n?(0,o.Map)().withMutations(function(t){for(var e in i._compiledSchema.names){var r=i._getCompiledName(e);switch(r.type){case"value":case"customValue":case"collection":r.persistent&&t.setIn(r.path,n.getIn(r.path))}}}):n}},{key:"currentBranch",value:function(t){if(!t)throw Error("repo not defined");var e=t.get("currentBranch");return e}},{key:"currentBranchState",value:function(t){var e=this.currentBranch(t);return t.get("branches").get(e)}},{key:"live",value:function(t){return this.currentBranchState(t).get("live")}},{key:"liveState",value:function(t){var e=this.currentBranchState(t).get("states");if(!(e.size<=0))return e.get(e.size-1)}},{key:"head",value:function(t){var e=this.currentBranchState(t),r=e.get("currentIndex");if(!(r<0))return e.get("states").get(r)}},{key:"prev",value:function(t){var e=this.currentBranchState(t),r=e.get("currentIndex");if(!(r<=0))return e.get("states").get(r-1)}},{key:"subEngine",value:function(t){return this._verifyName(t,"schema"),new i.default(this,t)}},{key:"actionFactory",value:function(){return this._actionFactory}},{key:"boundActionFactory",value:function(t){return new s.default(t,this.actionFactory())}},{key:"stateReducer",value:function(){throw new Error("Reducer is not implemented in CommonEngine")}},{key:"repoReducer",value:function(){throw new Error("RepoReducer is not implemented in CommonEngine")}}]),e}();r.default=f},{"./ActionFactory":1,"./BoundActionFactory":2,"./SchemaCompiler":6,"./SubEngine":9,"immutable-sorted":11}],4:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.MeteorDriver=r.MeteorCollection=void 0;var a=t("immutable-sorted");function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t){return"object"===u(t)&&void 0!==t._id?t._id:function(t){if("object"!==u(t))return!1;for(var e in t)return!1;return!0}(t)?void 0:function(t){return t}(t)}var o=function(){function o(t,e,r,n,i){s(this,o),this._name=t,this._engine=e,this._actionFactory=e.actionFactory(),this._dispatch=r,this._getData=n,this._getOriginals=i,this._paused=!1,this._pending=[],this._ids=(0,a.Set)().asMutable()}return i(o,[{key:"dispatch",value:function(t){return this._paused?this._pending.push(t):this._dispatch(t),t}},{key:"flush",value:function(){if(0<this._pending.length){var t=this._actionFactory.batch(this._pending);this._dispatch(t),this._pending=[]}}},{key:"remove",value:function(t){var e=c(t);if(e){this._ids.remove(e);var r=this._actionFactory.remove(this._name,e);this.dispatch(r)}else{this._ids=(0,a.Set)().asMutable(),this._pending=[];var n=this._actionFactory.reset(this._name);this._dispatch(n)}}},{key:"insert",value:function(t){var e=t._id;if(!e)throw new Error("Empty mongoID: "+JSON.stringify(t));this._ids.add(e);var r=this._actionFactory.insert(this._name,e,t);this.dispatch(r)}},{key:"update",value:function(t,e){var r=c(t);if(!r)throw new Error("Selector not supported:"+JSON.stringify(t));var n=this._actionFactory.update(this._name,r,e);this.dispatch(n)}},{key:"findOne",value:function(t,e){var r=c(t);if(!r)throw new Error("Selector not supported:"+JSON.stringify(t));return"object"===u(e)&&!0===e.fetch?this.fetchOne(r):this._ids.has(r)}},{key:"fetchOne",value:function(t){var e=c(t);if(!e)throw new Error("Selector not supported:"+JSON.stringify(t));return this.flush(),this._getData().get(e)}},{key:"pauseObservers",value:function(){this._paused=!0,this._pending=[];var t=this._actionFactory.pause(this._name);this.dispatch(t)}},{key:"resumeObservers",value:function(){this.flush(),this._paused=!1;var t=this._actionFactory.resume(this._name);this.dispatch(t)}},{key:"saveOriginals",value:function(){var t=this._actionFactory.saveOriginals(this._name);this.dispatch(t)}},{key:"retrieveOriginals",value:function(){this.flush();var t=this._getOriginals(),e=this._actionFactory.retrieveOriginals(this._name);return this.dispatch(e),t?(0,a.Seq)(t).map(function(t){return t?t.toJS():t}):t}}]),o}();r.MeteorCollection=o;var h=function(){function n(t,e,r){s(this,n),this._engine=t,this._dispatch=e,this._getState=r}return i(n,[{key:"open",value:function(t,e){var r=this;return new o(t,this._engine,this._dispatch,function(){return r._engine.get(r._getState(),t)},function(){return r._getState().getIn(["_state",t,"originals"])})}}]),n}();r.MeteorDriver=h},{"immutable-sorted":11}],5:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,tt=t("immutable-sorted"),i=(n=t("./StateEngine"))&&n.__esModule?n:{default:n};function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function u(t,e,r){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(r):i.value}})(t,e,r||t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function et(t){return t}var f=function(){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,c(e).call(this,t))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,i["default"]),function(t,e,r){e&&a(t.prototype,e),r&&a(t,r)}(e,[{key:"repoReducer",value:function(){function $(t,e){if(!t.get("branches").has(e))throw Error("the branch does not exist: "+e)}function n(t,e,r){switch(r.type){case"DUXEN_INIT":var n=et(r),i={currentIndex:0,live:!0,states:[(0,tt.fromJS)(n.state)],actions:[r]};t.set("currentBranch","master"),t.set("branches",(0,tt.fromJS)({master:i}));break;case"DUXEN_CREATE_BRANCH":var o=et(r),a=e.get("branches");if(a.has(o.branchName))throw Error("the branch already exists: "+o.branchName);var s=Z.getIn(["branches","master"]),u=a.set(o.branchName,s);t.set("branches",u);break;case"DUXEN_SWITCH_BRANCH":var c=et(r);$(e,c.branchName),t.set("currentBranch",c.branchName);break;case"DUXEN_SAVE_BRANCH":var h=et(r),f=t.get("currentBranch"),p=e.get("branches"),l=p.get(f),v=l.get("currentIndex"),_=l.withMutations(function(t){var e=t.get("states").slice(0,v+1);t.set("states",e);var r=t.get("actions").slice(0,v+1);t.set("actions",r),t.set("currentIndex",v)}),y=p.set(h.branchName,_);t.set("branches",y);break;case"DUXEN_RESET_BRANCH":var d=et(r);$(e,d.branchName);var m=t.get("currentBranch"),g=e.get("branches"),w=g.get(d.branchName),b=w.get("currentIndex"),S=w.withMutations(function(t){var e=t.get("states").slice(0,b+1);t.set("states",e);var r=t.get("actions").slice(0,b+1);t.set("actions",r),t.set("currentIndex",b)}),E=g.set(m,S);t.set("branches",E);break;case"DUXEN_REMOVE_BRANCH":var k=et(r);if($(e,k.branchName),t.get("currentBranch")===k.branchName)throw Error("cannot remove branch that is current");var I=e.get("branches").remove(k.branchName);t.set("branches",I);break;case"DUXEN_GO_FORWARD":var O=et(r),N=t.get("currentBranch"),z=e.get("branches"),M=z.get(N),D=M.get("currentIndex"),x=M.get("states"),A=O.steps,R=M.withMutations(function(t){var e=D+A;e<0?e=0:e>=x.size&&(e=x.size-1),t.set("currentIndex",e),t.set("live",!1)}),j=z.set(N,R);t.set("branches",j);break;case"DUXEN_GO_BACK":var q=et(r),C=t.get("currentBranch"),B=e.get("branches"),T=B.get(C),F=T.get("currentIndex"),P=T.get("states"),U=q.steps,L=T.withMutations(function(t){var e=F-U;e<0?e=0:e>=P.size&&(e=P.size-1),t.set("currentIndex",e),t.set("live",!1)}),V=B.set(C,L);t.set("branches",V);break;case"DUXEN_GO_LIVE":var K=t.get("currentBranch"),X=e.get("branches"),J=X.get(K),H=J.get("states"),W=J.withMutations(function(t){var e=H.size-1;t.set("currentIndex",e),t.set("live",!0)}),G=X.set(K,W);t.set("branches",G);break;case"DUXEN_SET_OPTION":var Y=et(r);t.setIn(["options",Y.optionName],Y.optionValue);break;default:!function(t,e,c){if(void 0===c.type)throw new Error("Action object is missing a mandatory field: type");if(!Object.isFrozen(c)&&"INIT"!==c.type&&!c.type.startsWith("@@redux/INIT"))throw new Error("Action object is not frozen");var h=t.get("options").get("history"),r=t.get("currentBranch");$(e,r);var n=t.get("branches"),i=n.get(r).withMutations(function(t){var e=t.get("currentIndex"),r=t.get("live"),n=t.get("states"),i=t.get("actions"),o=n.get(n.size-1),a=Q(o,c),s=n.withMutations(function(t){for(t.push(a);t.size>h;)t.shift(),0<e&&e--}),u=i.withMutations(function(t){var e=c;for(t.push(e);t.size>h;)t.shift()});r&&(e=s.size-1),t.set("currentIndex",e),t.set("states",s),t.set("actions",u)}),o=n.set(r,i);t.set("branches",o)}(t,e,r)}}var Q=u(c(e.prototype),"stateReducer",this).call(this),t={version:0,options:{history:1e3,showRepo:!1},currentBranch:"master",branches:{master:{currentIndex:-1,live:!0,states:[],actions:[]}}},Z=(0,tt.fromJS)(t);return function(e,r){return void 0===e&&(e=Z),e.withMutations(function(t){n(t,e,r)})}}}]),e}();r.default=f},{"./StateEngine":7,"immutable-sorted":11}],6:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.compileSchema=r.compileDependencies=void 0;var u=t("immutable-sorted"),C=t("seqen");function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function B(t){return t}function T(t){for(var s={},e={},r=0;r<t.length;r++){var n=t[r],i=n[0],o=n[1],a=s[i];a||(a=[],s[i]=a),a.push(o)}function u(t,e,r,n){if(n.push(t),r[t])throw new Error("Dependency loop: "+n.toString());r[t]=!0;var i=s[t];if(i)for(var o=0;o<i.length;o++){var a=i[o];e.push(a),u(a,e,r,n)}n.pop(),delete r[t]}function c(t){for(var e={},r=t.length-1;0<=r;r--){var n=t[r];void 0===e[n]&&(e[n]=r)}for(var i=[],o=0;o<t.length;o++){var a=t[o];e[a]===o&&i.push(a)}return i}for(var h in s){var f=[];u(h,f,{},[]);var p=c(f);e[h]=p}return e}r.compileDependencies=T;r.compileSchema=function(t){function D(t,e){if("string"!=typeof t)throw new Error("wrong name: "+t);if(0===t.length)throw new Error("empty name");if("string"!=typeof e)throw new Error("wrong namePrefix: "+e)}function n(t){if(!Array.isArray(t))throw new Error("Props are not in Array");for(var e=0,r=t.length;e<r;e++){var n=t[e];switch(i(n)){case"string":break;default:throw new Error("Invalid type of propName: "+i(n))}}}function x(t,r,e){D(t,e);var n=r.actionType;if(!n)throw new Error("Missing actionType in value schema: "+JSON.stringify(r));if(n=e+n,q.actions[n])throw new Error("Duplicate actionType in value schema: "+JSON.stringify(r));q.actions[n]={type:"customValue",name:t,actionType:n,reducer:function(t,e){switch(e.type){case n:return r.reducer?r.reducer(t,e):e.value;default:return t}}}}function A(t,e,r){if(D(t,r),n(e.props),!e.props)throw new Error("missing props: "+t)}function R(t,e,r){if(D(t,r),n(e.props),!e.sourceName)throw new Error("missing sourceName in view schema: "+t)}function j(t,r,e){var n=r.actionType;if(!n)throw new Error("Missing actionType in custom schema: "+JSON.stringify(r));if(n=e+n,q.actions[n])throw new Error("Duplicate actionType in custom schema: "+JSON.stringify(r));if(!r.reducer)throw new Error("Missing reducer in custom schema: "+JSON.stringify(r));if(r.path)throw new Error("Path is not allowed in custom schema: "+JSON.stringify(r));q.actions[n]={type:"custom",name:t,actionType:n,reducer:function(t,e){switch(e.type){case n:return t.withMutations(function(t){r.reducer(t,e)});default:return t}}}}var q={names:{},actions:{},initState:(0,u.Map)(),allDependents:[]};return function t(e,r,n){for(var i in e){if(i.match(/^[$_]|\.|\0/))throw Error("Invalid name (can't start with $ or _, can't contain '.' or '\0'): "+i);var o=e[i];if(!o)throw Error("Improper definition in schema: "+i);var a=n?n.split("."):[],s=o.path?o.path:i,u=s.split("."),c=(n?n+".":"")+s,h=c.split(".");"custom"===o.type&&(h=h.slice(0,h.length-1),u=u.slice(0,u.length-1));var f=r?r+".":"";if(i=f+i,q.names[i])throw Error("Duplicate name in schema: "+i);var p={name:i,type:o.type,persistent:!1,namePrefix:f,path:h,schemaPath:a,subPath:u,schemaEntry:o,dependents:[]};switch(q.names[i]=p,o.type){case"value":p.initValue=o.initValue,!0===o.persistent&&(p.persistent=o.persistent),D(i,f);break;case"customValue":p.initValue=o.initValue,!0===o.persistent&&(p.persistent=o.persistent),x(i,o,f);break;case"formula":A(i,o,f);break;case"collection":!0===o.persistent&&(p.persistent=o.persistent),D(i,f);break;case"view":var l=B(o);p.seqen=new C.Seqen(l.recipe),R(i,o,f);break;case"custom":j(i,o,f);break;case"schema":t(o.schema,i,c);break;default:throw new Error("Invalid SchemaEntry type: "+o.type)}}var v=[],_=[];for(var y in q.names){var d=q.names[y],m=d.schemaEntry;switch(m.type){case"formula":for(var g=0,w=m.props.length;g<w;g++)v.push([d.namePrefix+m.props[g],y]);_.push(["allDeps",y]);break;case"view":if(!m.sourceName)throw new Error("Source collection or view name is not specified for: "+y);var b=d.namePrefix+m.sourceName;if(!q.names[b])throw new Error("Source name not found in schema: "+b);v.push([b,y]),_.push(["allDeps",y]);for(var S=0,E=m.props.length;S<E;S++)v.push([d.namePrefix+m.props[S],y])}}var k=T(v);for(var I in k){var O=k[I],N=q.names[I];if(!N)throw new Error("Missing compiled name: "+I);N.dependents=O}var z=_.concat(v),M=T(z);M.allDeps&&(q.allDependents=M.allDeps)}(t,"",""),q.initState=function i(o,a,s){return(0,u.Map)().withMutations(function(t){for(var e in s||(s=t).set("_state",(0,u.Map)()),o){var r=o[e];e=a+e;var n=q.names[e];if(!n)throw new Error("unknown name: "+e);if("custom"!==n.type&&t.getIn(B(n.subPath)))throw new Error("duplicate name in schema: "+e);switch(r.type){case"value":case"customValue":t.setIn(B(n.subPath),n.initValue);break;case"collection":t.setIn(B(n.subPath),(0,u.Map)()),s.setIn(["_state",e,"paused"],!1);break;case"schema":t.setIn(B(n.subPath),i(r.schema,e+".",s));break;case"custom":break;case"view":t.setIn(B(n.subPath),(0,u.Map)());break;case"formula":t.setIn(B(n.subPath),void 0);break;default:throw new Error("Unexpected entry type: "+r.type)}}})}(t,"",void 0),q}},{"immutable-sorted":11,seqen:14}],7:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,st=t("immutable-sorted"),i=(n=t("./CommonEngine"))&&n.__esModule?n:{default:n};function E(t){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e){return!e||"object"!==E(e)&&"function"!=typeof e?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ut(t){return t}var c=function(){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,s(e).call(this,t))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,i["default"]),function(t,e,r){e&&o(t.prototype,e),r&&o(t,r)}(e,[{key:"stateReducer",value:function(){function n(t){throw new Error("Schema compilation error: "+t)}function i(t,e,r){for(var n=0,i=r.length;n<i;n++){var o=r[n],a=at(o);switch(a.type){case"formula":for(var s=ut(a.schemaEntry),u={},c=0,h=s.props.length;c<h;c++){var f=s.props[c];switch(E(f)){case"string":var p=at(a.namePrefix+f);u[f]=t.getIn(p.path);break;default:throw new Error("Invalid type of propName: "+E(f))}}var l=s.recipe(u);t.setIn(a.path,l);break;case"view":for(var v=ut(a.schemaEntry),_=at(a.namePrefix+v.sourceName),y={},d=0,m=v.props.length;d<m;d++){var g=v.props[d];switch(E(g)){case"string":var w=at(a.namePrefix+g);y[g]=t.getIn(w.path);break;default:throw new Error("Invalid type of propName: "+E(g))}}var b=t.getIn(_.path);if(!a.seqen)throw new Error("Missing seqen for view: "+_.name);var S=a.seqen.process(b,y);t.setIn(a.path,S);break;default:throw new Error("Dependent type not supported: "+a.type)}}}function rt(t,e,r){if(!0!==("collection"==r.type&&t.getIn(["_state",r.name,"paused"]))){var n=r.dependents;n&&i(t,0,n)}}function nt(t,e){i(t,0,ot.allDependents)}function it(t,e,r,n){var i=t.getIn(["_state",e,"originals"]);i&&(i.has(r)||t.setIn(["_state",e,"originals",r],n))}var o=this,ot=this._compiledSchema,at=function(t){var e=ot.names[t];if(!e)throw new Error("Name does not exist in schema: "+t);return e};return function(e,r){return void 0===e?(e=ot.initState).withMutations(function(t){e=nt(t)}):(r.collName&&function(t){t.collName||n("Missing collName in action: "+t.toString()),"collection"!==o._getNameType(t.collName)&&n("Unknown collection name: "+t.collName)}(ut(r)),e.withMutations(function(t){!function t(e,r,n){switch(n.type){case"DUXEN_BATCH":for(var i=ut(n).actions,o=0,a=i.size;o<a;o++)t(e,r,ut(i.get(o)));break;case"DUXEN_INSERT":var s=ut(n),u=at(s.collName),c=ut(e.getIn(u.path)).set(s.id,s.doc);e.setIn(u.path,c),it(e,s.collName,s.id),rt(e,0,u);break;case"DUXEN_UPDATE":var h=ut(n),f=at(h.collName),p=ut(e.getIn(f.path)),l=h.id,v=p.get(l);if(!v)throw new Error("Updating document that does not exist: "+JSON.stringify(l));var _,y=h.doc,d=ut(y.get("$set")),m=ut(y.get("$unset")),g=ut(y.get("$inc")),w=ut(y.get("$mul"));_=d||m||g||w?v.withMutations(function(i){d&&d.forEach(function(t,e){return i.setIn(e.split("."),t)}),m&&m.forEach(function(t,e){return i.deleteIn(e.split("."))}),g&&g.forEach(function(t,e){var r=e.split("."),n=i.getIn(r);"number"==typeof n&&(n+=t,i.setIn(r,n))}),w&&w.forEach(function(t,e){var r=e.split("."),n=i.getIn(r);"number"==typeof n&&(n*=t,i.setIn(r,n))})}):y;var b=p.set(h.id,_);e.setIn(f.path,b),it(e,h.collName,l,v),rt(e,0,f);break;case"DUXEN_REMOVE":var S=ut(n),E=at(S.collName),k=ut(e.getIn(E.path)),I=S.id,O=k.get(I);if(O){var N=k.remove(I);e.setIn(E.path,N),it(e,S.collName,I,O),rt(e,0,E)}break;case"DUXEN_RESET":var z=ut(n),M=at(z.collName),D=(0,st.Map)();e.setIn(M.path,D),e.deleteIn(["_state",z.collName,"originals"]),rt(e,0,M);break;case"DUXEN_PAUSE":var x=ut(n);e.setIn(["_state",x.collName,"paused"],!0);break;case"DUXEN_RESUME":var A=ut(n),R=at(A.collName);e.setIn(["_state",A.collName,"paused"],!1),rt(e,0,R);break;case"DUXEN_SAVE":var j=ut(n),q=at(j.collName),C=ut(e.getIn(q.path));e.setIn(["_state",j.collName,"saved"],C);break;case"DUXEN_RESTORE":var B=ut(n),T=at(B.collName),F=ut(e.getIn(["_state",B.collName,"saved"]));if(!F)throw new Error("Restore: nothing was saved");e.deleteIn(["_state",B.collName,"saved"]),e.setIn(T.path,F),rt(e,0,T);break;case"DUXEN_SAVE_ORIGINALS":var P=ut(n);if(ut(e.getIn(["_state",P.collName,"originals"])))throw new Error("Save Originals: called twice without retrieve originals");e.setIn(["_state",P.collName,"originals"],(0,st.Map)());break;case"DUXEN_RETRIEVE_ORIGINALS":var U=ut(n);if(!ut(e.getIn(["_state",U.collName,"originals"])))throw new Error("Retrieve Originals: called without save originals");e.deleteIn(["_state",U.collName,"originals"]);break;case"DUXEN_REFRESH":nt(e);break;case"DUXEN_VALUE":var L=ut(n),V=at(L.valueName),K=r.getIn(V.path);if(void 0===K)throw Error("Lost value in state:"+L.valueName);var X=L.value;K!==X&&(e.setIn(V.path,X),rt(e,0,V));break;default:var J=ot.actions[n.type];if(J){var H=J.name,W=at(H);switch(J.type){case"customValue":var G=ut(n),Y=r.getIn(W.path);if(void 0===Y)throw Error("Lost value in state:"+H);var $=(0,J.reducer)(Y,G);Y!==$&&(e.setIn(W.path,$),rt(e,0,W));break;case"custom":var Q=ut(n),Z=J.reducer;if(0<W.path.length){var tt=e.getIn(W.path);if(!tt)throw new Error("Missing path in state:"+JSON.stringify(W.path));var et=tt.asMutable();Z(et,Q),e.setIn(W.path,et)}else Z(e,Q);break;default:throw new Error("CompiledAction.type not supported: "+J.type)}}}}(t,e,r)}))}}}]),e}();r.default=c},{"./CommonEngine":3,"immutable-sorted":11}],8:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;t("immutable-sorted");function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var i=function(){function r(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),this._actionFactory=t,this._subSchemaPath=e,this._prefix=e+"."}return function(t,e,r){e&&n(t.prototype,e),r&&n(t,r)}(r,[{key:"batch",value:function(t){return this._actionFactory.batch(t)}},{key:"insert",value:function(t,e,r){return t=this._prefix+t,this._actionFactory.insert(t,e,r)}},{key:"update",value:function(t,e,r){return t=this._prefix+t,this._actionFactory.update(t,e,r)}},{key:"remove",value:function(t,e){return t=this._prefix+t,this._actionFactory.remove(t,e)}},{key:"reset",value:function(t){return t=this._prefix+t,this._actionFactory.reset(t)}},{key:"pause",value:function(t){return t=this._prefix+t,this._actionFactory.pause(t)}},{key:"resume",value:function(t){return t=this._prefix+t,this._actionFactory.resume(t)}},{key:"save",value:function(t){return t=this._prefix+t,this._actionFactory.save(t)}},{key:"restore",value:function(t){return t=this._prefix+t,this._actionFactory.restore(t)}},{key:"saveOriginals",value:function(t){return t=this._prefix+t,this._actionFactory.saveOriginals(t)}},{key:"retrieveOriginals",value:function(t){return t=this._prefix+t,this._actionFactory.retrieveOriginals(t)}},{key:"refresh",value:function(){return this._actionFactory.refresh()}},{key:"value",value:function(t,e){return t=this._prefix+t,this._actionFactory.value(t,e)}},{key:"customValue",value:function(t,e){return t=this._prefix+t,this._actionFactory.customValue(t,e)}},{key:"custom",value:function(t){return t=this._prefix+t,this._actionFactory.custom(t)}},{key:"createBranch",value:function(t){return this._actionFactory.createBranch(t)}},{key:"switchBranch",value:function(t){return this._actionFactory.switchBranch(t)}},{key:"saveBranch",value:function(t){return this._actionFactory.saveBranch(t)}},{key:"resetBranch",value:function(t){return this._actionFactory.resetBranch(t)}},{key:"removeBranch",value:function(t){return this._actionFactory.removeBranch(t)}},{key:"goForward",value:function(t){return this._actionFactory.goForward(t)}},{key:"goBack",value:function(t){return this._actionFactory.goBack(t)}},{key:"goLive",value:function(){return this._actionFactory.goLive()}},{key:"setOption",value:function(t,e){return this._actionFactory.setOption(t,e)}}]),r}();r.default=i},{"immutable-sorted":11}],9:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=o(t("./SubActionFactory")),i=o(t("./BoundActionFactory"));function o(t){return t&&t.__esModule?t:{default:t}}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var s=function(){function r(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),this._engine=t,this._subSchemaPath=e,this._prefix=e+".",this._actionFactory=new n.default(this._engine.actionFactory(),this._subSchemaPath)}return function(t,e,r){e&&a(t.prototype,e),r&&a(t,r)}(r,[{key:"get",value:function(t,e){if(!e)return this._engine.get(t,this._subSchemaPath);var r=this._prefix+e;return this._engine.get(t,r)}},{key:"subscribe",value:function(t){return this._engine.subscribe(t)}},{key:"printableState",value:function(t){var e=this.get(t,void 0);return e=this._engine.printableState(e)}},{key:"persistableState",value:function(t){this._engine.persistableState(t);return this.get(t,void 0)}},{key:"currentBranch",value:function(t){if(!t)throw Error("repo not defined");var e=t.get("currentBranch");return e}},{key:"currentBranchState",value:function(t){return this._engine.currentBranchState(t)}},{key:"live",value:function(t){return this.currentBranchState(t).get("live")}},{key:"head",value:function(t){return this._engine.head(t)}},{key:"prev",value:function(t){return this._engine.prev(t)}},{key:"subEngine",value:function(t){return this._engine.subEngine(this._prefix+t)}},{key:"actionFactory",value:function(){return this._actionFactory}},{key:"boundActionFactory",value:function(t){return new i.default(t,this.actionFactory())}},{key:"stateReducer",value:function(){throw new Error("Reducer is not implemented in SubEngine")}},{key:"repoReducer",value:function(){throw new Error("RepoReducer is not implemented in SubEngine")}}]),r}();r.default=s},{"./BoundActionFactory":2,"./SubActionFactory":8}],10:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"MeteorDriver",{enumerable:!0,get:function(){return o.MeteorDriver}}),r.default=r.createEngine=void 0;var n,i=(n=t("./RepoEngine"))&&n.__esModule?n:{default:n},o=t("./MeteorDriver");function a(t){return new i.default(t)}var s={createEngine:r.createEngine=a};r.default=s},{"./MeteorDriver":4,"./RepoEngine":5}],11:[function(t,r,n){(function(uo){var t,e;t=this,e=function(t){"use strict";var e="delete",g=5,m=1<<g,w=m-1,E={};function S(t){t&&(t.value=!0)}function k(t){return t.value}function b(){}function c(t){return void 0===t.size&&(t.size=t.__iterate(r)),t.size}function a(t,e){if("number"!=typeof e){var r=e>>>0;if(""+r!==e||4294967295==r)return NaN;e=r}return e<0?c(t)+e:e}function r(){return!0}function f(t,e,r){return(0===t&&!i(t)||void 0!==r&&t<=-r)&&(void 0===e||void 0!==r&&r<=e)}function p(t,e){return n(t,e,0)}function l(t,e){return n(t,e,e)}function n(t,e,r){return void 0===t?r:i(t)?e===1/0?e:0|Math.max(0,e+t):void 0===e||e===t?t:0|Math.min(e,t)}function i(t){return t<0||0===t&&1/t==-1/0}var o="@@__IMMUTABLE_ITERABLE__@@";function h(t){return Boolean(t&&t[o])}var s="@@__IMMUTABLE_KEYED__@@";function u(t){return Boolean(t&&t[s])}var v="@@__IMMUTABLE_INDEXED__@@";function _(t){return Boolean(t&&t[v])}function y(t){return u(t)||_(t)}function d(t){return h(t)?t:nt(t)}var I,O=(N.__proto__=I=d,(N.prototype=Object.create(I.prototype)).constructor=N);function N(t){return u(t)?t:at(t)}var z,M=(D.__proto__=z=d,(D.prototype=Object.create(z.prototype)).constructor=D);function D(t){return _(t)?t:ct(t)}var x,A=(R.__proto__=x=d,(R.prototype=Object.create(x.prototype)).constructor=R);function R(t){return h(t)&&!y(t)?t:pt(t)}d.Keyed=O,d.Indexed=M,d.Set=A;var j="@@__IMMUTABLE_SEQ__@@";function q(t){return Boolean(t&&t[j])}var C="@@__IMMUTABLE_RECORD__@@";function B(t){return Boolean(t&&t[C])}function T(t){return h(t)||B(t)}var F="@@__IMMUTABLE_ORDERED__@@";function P(t){return Boolean(t&&t[F])}var U=0,L=1,V=2,K="function"==typeof Symbol&&Symbol.iterator,X="@@iterator",J=K||X,H=function(t){this.next=t};function W(t,e,r,n){var i=0===t?e:1===t?r:[e,r];return n?n.value=i:n={value:i,done:!1},n}function G(){return{value:void 0,done:!0}}function Y(t){return!!Z(t)}function $(t){return t&&"function"==typeof t.next}function Q(t){var e=Z(t);return e&&e.call(t)}function Z(t){var e=t&&(K&&t[K]||t[X]);if("function"==typeof e)return e}H.prototype.toString=function(){return"[Iterator]"},H.KEYS=U,H.VALUES=L,H.ENTRIES=V,H.prototype.inspect=H.prototype.toSource=function(){return this.toString()},H.prototype[J]=function(){return this};var tt=Object.prototype.hasOwnProperty;function et(t){return!(!Array.isArray(t)&&"string"!=typeof t)||t&&"object"==typeof t&&Number.isInteger(t.length)&&0<=t.length&&(0===t.length?1===Object.keys(t).length:t.hasOwnProperty(t.length-1))}var rt,nt=(it.__proto__=rt=d,((it.prototype=Object.create(rt.prototype)).constructor=it).prototype.toSeq=function(){return this},it.prototype.toString=function(){return this.__toString("Seq {","}")},it.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},it.prototype.__iterate=function(t,e){var r=this._cache;if(r){for(var n=r.length,i=0;i!==n;){var o=r[e?n-++i:i++];if(!1===t(o[1],o[0],this))break}return i}return this.__iterateUncached(t,e)},it.prototype.__iterator=function(e,r){var n=this._cache;if(n){var i=n.length,o=0;return new H(function(){if(o===i)return{value:void 0,done:!0};var t=n[r?i-++o:o++];return W(e,t[0],t[1])})}return this.__iteratorUncached(e,r)},it);function it(t){return null==t?kt():T(t)?t.toSeq():function(t){var e=Nt(t);if(e)return e;if("object"!=typeof t)throw new TypeError("Expected Array or collection object of values, or keyed object: "+t);return new mt(t)}(t)}var ot,at=((ot=nt)&&(st.__proto__=ot),((st.prototype=Object.create(ot&&ot.prototype)).constructor=st).prototype.toKeyedSeq=function(){return this},st);function st(t){return null==t?kt().toKeyedSeq():h(t)?u(t)?t.toSeq():t.fromEntrySeq():B(t)?t.toSeq():It(t)}var ut,ct=((ut=nt)&&(ht.__proto__=ut),((ht.prototype=Object.create(ut&&ut.prototype)).constructor=ht).of=function(){return ht(arguments)},ht.prototype.toIndexedSeq=function(){return this},ht.prototype.toString=function(){return this.__toString("Seq [","]")},ht);function ht(t){return null==t?kt():h(t)?u(t)?t.entrySeq():t.toIndexedSeq():B(t)?t.toSeq().entrySeq():Ot(t)}var ft,pt=((ft=nt)&&(lt.__proto__=ft),((lt.prototype=Object.create(ft&&ft.prototype)).constructor=lt).of=function(){return lt(arguments)},lt.prototype.toSetSeq=function(){return this},lt);function lt(t){return(h(t)&&!y(t)?t:ct(t)).toSetSeq()}nt.isSeq=q,nt.Keyed=at,nt.Set=pt,nt.Indexed=ct,nt.prototype[j]=!0;var vt,_t=((vt=ct)&&(yt.__proto__=vt),((yt.prototype=Object.create(vt&&vt.prototype)).constructor=yt).prototype.get=function(t,e){return this.has(t)?this._array[a(this,t)]:e},yt.prototype.__iterate=function(t,e){for(var r=this._array,n=r.length,i=0;i!==n;){var o=e?n-++i:i++;if(!1===t(r[o],o,this))break}return i},yt.prototype.__iterator=function(e,r){var n=this._array,i=n.length,o=0;return new H(function(){if(o===i)return{value:void 0,done:!0};var t=r?i-++o:o++;return W(e,t,n[t])})},yt);function yt(t){this._array=t,this.size=t.length}var dt,mt=((dt=at)&&(gt.__proto__=dt),((gt.prototype=Object.create(dt&&dt.prototype)).constructor=gt).prototype.get=function(t,e){return void 0===e||this.has(t)?this._object[t]:e},gt.prototype.has=function(t){return tt.call(this._object,t)},gt.prototype.__iterate=function(t,e){for(var r=this._object,n=this._keys,i=n.length,o=0;o!==i;){var a=n[e?i-++o:o++];if(!1===t(r[a],a,this))break}return o},gt.prototype.__iterator=function(e,r){var n=this._object,i=this._keys,o=i.length,a=0;return new H(function(){if(a===o)return{value:void 0,done:!0};var t=i[r?o-++a:a++];return W(e,t,n[t])})},gt);function gt(t){var e=Object.keys(t);this._object=t,this._keys=e,this.size=e.length}mt.prototype[F]=!0;var wt,bt,St=((wt=ct)&&(Et.__proto__=wt),((Et.prototype=Object.create(wt&&wt.prototype)).constructor=Et).prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);var r=Q(this._collection),n=0;if($(r))for(var i;!(i=r.next()).done&&!1!==t(i.value,n++,this););return n},Et.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var r=Q(this._collection);if(!$(r))return new H(G);var n=0;return new H(function(){var t=r.next();return t.done?t:W(e,n++,t.value)})},Et);function Et(t){this._collection=t,this.size=t.length||t.size}function kt(){return bt=bt||new _t([])}function It(t){var e=Array.isArray(t)?new _t(t):Y(t)?new St(t):void 0;if(e)return e.fromEntrySeq();if("object"==typeof t)return new mt(t);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+t)}function Ot(t){var e=Nt(t);if(e)return e;throw new TypeError("Expected Array or collection object of values: "+t)}function Nt(t){return et(t)?new _t(t):Y(t)?new St(t):void 0}var zt="@@__IMMUTABLE_MAP__@@";function Mt(t){return Boolean(t&&t[zt])}function Dt(t){return Mt(t)&&P(t)}function xt(t){return Boolean(t&&"function"==typeof t.equals&&"function"==typeof t.hashCode)}function At(t,e){if(t===e||t!=t&&e!=e)return!0;if(!t||!e)return!1;if("function"==typeof t.valueOf&&"function"==typeof e.valueOf){if((t=t.valueOf())===(e=e.valueOf())||t!=t&&e!=e)return!0;if(!t||!e)return!1}return!!(xt(t)&&xt(e)&&t.equals(e))}var Rt="@@__IMMUTABLE_SORTED__@@";function jt(t){return Boolean(t&&t[Rt])}var qt="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(t,e){var r=65535&(t|=0),n=65535&(e|=0);return r*n+((t>>>16)*n+r*(e>>>16)<<16>>>0)|0};function Ct(t){return t>>>1&1073741824|3221225471&t}var Bt=Object.prototype.valueOf;function Tt(t){switch(typeof t){case"boolean":return t?1108378657:1108378656;case"number":return function(t){if(t!=t||t===1/0)return 0;var e=0|t;e!==t&&(e^=4294967295*t);for(;4294967295<t;)e^=t/=4294967295;return Ct(e)}(t);case"string":return t.length>Wt?function(t){var e=$t[t];void 0===e&&(e=Ft(t),Yt===Gt&&(Yt=0,$t={}),Yt++,$t[t]=e);return e}(t):Ft(t);case"object":case"function":return null===t?1108378658:"function"==typeof t.hashCode?Ct(t.hashCode(t)):(t.valueOf!==Bt&&"function"==typeof t.valueOf&&(t=t.valueOf(t)),function(t){var e;if(Vt&&void 0!==(e=Lt.get(t)))return e;if(void 0!==(e=t[Xt]))return e;if(!Ut){if(void 0!==(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[Xt]))return e;if(void 0!==(e=function(t){if(t&&0<t.nodeType)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}(t)))return e}e=++Kt,1073741824&Kt&&(Kt=0);if(Vt)Lt.set(t,e);else{if(void 0!==Pt&&!1===Pt(t))throw new Error("Non-extensible objects are not allowed as keys.");if(Ut)Object.defineProperty(t,Xt,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(void 0!==t.propertyIsEnumerable&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[Xt]=e;else{if(void 0===t.nodeType)throw new Error("Unable to set a non-enumerable property on object.");t[Xt]=e}}return e}(t));case"undefined":return 1108378659;default:if("function"==typeof t.toString)return Ft(t.toString());throw new Error("Value type "+typeof t+" cannot be hashed.")}}function Ft(t){for(var e=0,r=0;r<t.length;r++)e=31*e+t.charCodeAt(r)|0;return Ct(e)}var Pt=Object.isExtensible,Ut=function(){try{return Object.defineProperty({},"@",{}),!0}catch(t){return!1}}();var Lt,Vt="function"==typeof WeakMap;Vt&&(Lt=new WeakMap);var Kt=0,Xt="__immutablehash__";"function"==typeof Symbol&&(Xt=Symbol(Xt));function Jt(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}var Ht,Wt=16,Gt=255,Yt=0,$t={},Qt=function(t,e,r,n,i){if(!(n<e||r<n))for(;e<r;){if(1e3<r-e){var o=r-e+1,a=n-e+1,s=Math.log(o),u=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*u*(o-u)/o)*Math.sign(a-o/2),h=Math.max(e,Math.floor(n-a*u/o+c)),f=Math.min(r,Math.floor(n+(o-a)*u/o+c));Qt(t,h,f,n,i)}var p=t[n],l=e,v=r;for(Jt(t,e,n),0<i(t[r],p)&&Jt(t,r,e);l<v;){for(Jt(t,l++,v--);i(t[l],p)<0;)l++;for(;0<i(t[v],p);)v--}t[e]===p?Jt(t,e,v):Jt(t,++v,r),v<=n&&(e=v+1),n<=v&&(r=v-1)}},Zt=((Ht=at)&&(te.__proto__=Ht),((te.prototype=Object.create(Ht&&Ht.prototype)).constructor=te).prototype.get=function(t,e){return this._iter.get(t,e)},te.prototype.has=function(t){return this._iter.has(t)},te.prototype.valueSeq=function(){return this._iter.valueSeq()},te.prototype.reverse=function(){var t=this,e=pe(this,!0);return this._useKeys||(e.valueSeq=function(){return t._iter.toSeq().reverse()}),e},te.prototype.map=function(t,e){var r=this,n=fe(this,t,e);return this._useKeys||(n.valueSeq=function(){return r._iter.toSeq().map(t,e)}),n},te.prototype.__iterate=function(r,t){var n=this;return this._iter.__iterate(function(t,e){return r(t,e,n)},t)},te.prototype.__iterator=function(t,e){return this._iter.__iterator(t,e)},te);function te(t,e){this._iter=t,this._useKeys=e,this.size=t.size}Zt.prototype[F]=!0;var ee,re=((ee=ct)&&(ne.__proto__=ee),((ne.prototype=Object.create(ee&&ee.prototype)).constructor=ne).prototype.includes=function(t){return this._iter.includes(t)},ne.prototype.__iterate=function(e,r){var n=this,i=0;return r&&c(this),this._iter.__iterate(function(t){return e(t,r?n.size-++i:i++,n)},r)},ne.prototype.__iterator=function(e,r){var n=this,i=this._iter.__iterator(L,r),o=0;return r&&c(this),new H(function(){var t=i.next();return t.done?t:W(e,r?n.size-++o:o++,t.value,t)})},ne);function ne(t){this._iter=t,this.size=t.size}var ie,oe=((ie=pt)&&(ae.__proto__=ie),((ae.prototype=Object.create(ie&&ie.prototype)).constructor=ae).prototype.has=function(t){return this._iter.includes(t)},ae.prototype.__iterate=function(e,t){var r=this;return this._iter.__iterate(function(t){return e(t,t,r)},t)},ae.prototype.__iterator=function(e,t){var r=this._iter.__iterator(L,t);return new H(function(){var t=r.next();return t.done?t:W(e,t.value,t.value,t)})},ae);function ae(t){this._iter=t,this.size=t.size}var se,ue=((se=at)&&(ce.__proto__=se),((ce.prototype=Object.create(se&&se.prototype)).constructor=ce).prototype.entrySeq=function(){return this._iter.toSeq()},ce.prototype.__iterate=function(r,t){var n=this;return this._iter.__iterate(function(t){if(t){ke(t);var e=h(t);return r(e?t.get(1):t[1],e?t.get(0):t[0],n)}},t)},ce.prototype.__iterator=function(n,t){var i=this._iter.__iterator(L,t);return new H(function(){for(;;){var t=i.next();if(t.done)return t;var e=t.value;if(e){ke(e);var r=h(e);return W(n,r?e.get(0):e[0],r?e.get(1):e[1],t)}}})},ce);function ce(t){this._iter=t,this.size=t.size}function he(i){var t=Oe(i);return t._iter=i,t.size=i.size,t.flip=function(){return i},t.reverse=function(){var t=i.reverse.apply(this);return t.flip=function(){return i.reverse()},t},t.has=function(t){return i.includes(t)},t.includes=function(t){return i.has(t)},t.cacheResult=Ne,t.__iterateUncached=function(r,t){var n=this;return i.__iterate(function(t,e){return!1!==r(e,t,n)},t)},t.__iteratorUncached=function(t,e){if(t!==V)return i.__iterator(t===L?U:L,e);var r=i.__iterator(t,e);return new H(function(){var t=r.next();if(!t.done){var e=t.value[0];t.value[0]=t.value[1],t.value[1]=e}return t})},t}function fe(o,a,s){var t=Oe(o);return t.size=o.size,t.has=function(t){return o.has(t)},t.get=function(t,e){var r=o.get(t,E);return r===E?e:a.call(s,r,t,o)},t.__iterateUncached=function(n,t){var i=this;return o.__iterate(function(t,e,r){return!1!==n(a.call(s,t,e,r),e,i)},t)},t.__iteratorUncached=function(n,t){var i=o.__iterator(V,t);return new H(function(){var t=i.next();if(t.done)return t;var e=t.value,r=e[0];return W(n,r,a.call(s,e[1],r,o),t)})},t}function pe(a,s){var u=this,t=Oe(a);return t._iter=a,t.size=a.size,t.reverse=function(){return a},a.flip&&(t.flip=function(){var t=he(a);return t.reverse=function(){return a.flip()},t}),t.get=function(t,e){return a.get(s?t:-1-t,e)},t.has=function(t){return a.has(s?t:-1-t)},t.includes=function(t){return a.includes(t)},t.cacheResult=Ne,t.__iterate=function(r,n){var i=this,o=0;return n&&c(a),a.__iterate(function(t,e){return r(t,s?e:n?i.size-++o:o++,i)},!n)},t.__iterator=function(r,n){var i=0;n&&c(a);var o=a.__iterator(V,!n);return new H(function(){var t=o.next();if(t.done)return t;var e=t.value;return W(r,s?e[0]:n?u.size-++i:i++,e[1],t)})},t}function le(s,u,c,h){var t=Oe(s);return h&&(t.has=function(t){var e=s.get(t,E);return e!==E&&!!u.call(c,e,t,s)},t.get=function(t,e){var r=s.get(t,E);return r!==E&&u.call(c,r,t,s)?r:e}),t.__iterateUncached=function(n,t){var i=this,o=0;return s.__iterate(function(t,e,r){if(u.call(c,t,e,r))return o++,n(t,h?e:o-1,i)},t),o},t.__iteratorUncached=function(i,t){var o=s.__iterator(V,t),a=0;return new H(function(){for(;;){var t=o.next();if(t.done)return t;var e=t.value,r=e[0],n=e[1];if(u.call(c,n,r,s))return W(i,h?r:a++,n,t)}})},t}function ve(s,t,e,u){var r=s.size;if(f(t,e,r))return s;var c=p(t,r),n=l(e,r);if(c!=c||n!=n)return ve(s.toSeq().cacheResult(),t,e,u);var h,i=n-c;i==i&&(h=i<0?0:i);var o=Oe(s);return o.size=0===h?h:s.size&&h||void 0,!u&&q(s)&&0<=h&&(o.get=function(t,e){return 0<=(t=a(this,t))&&t<h?s.get(t+c,e):e}),o.__iterateUncached=function(r,t){var n=this;if(0===h)return 0;if(t)return this.cacheResult().__iterate(r,t);var i=0,o=!0,a=0;return s.__iterate(function(t,e){if(!(o=o&&i++<c))return a++,!1!==r(t,u?e:a-1,n)&&a!==h}),a},o.__iteratorUncached=function(e,t){if(0!==h&&t)return this.cacheResult().__iterator(e,t);if(0===h)return new H(G);var r=s.__iterator(e,t),n=0,i=0;return new H(function(){for(;n++<c;)r.next();if(++i>h)return{value:void 0,done:!0};var t=r.next();return u||e===L||t.done?t:W(e,i-1,e===U?void 0:t.value[1],t)})},o}function _e(e,c,h,f){var t=Oe(e);return t.__iterateUncached=function(n,t){var i=this;if(t)return this.cacheResult().__iterate(n,t);var o=!0,a=0;return e.__iterate(function(t,e,r){if(!(o=o&&c.call(h,t,e,r)))return a++,n(t,f?e:a-1,i)}),a},t.__iteratorUncached=function(i,t){var o=this;if(t)return this.cacheResult().__iterator(i,t);var a=e.__iterator(V,t),s=!0,u=0;return new H(function(){var t,e,r;do{if((t=a.next()).done)return f||i===L?t:W(i,u++,i===U?void 0:t.value[1],t);var n=t.value;e=n[0],r=n[1],s=s&&c.call(h,r,e,o)}while(s);return i===V?t:W(i,e,r,t)})},t}function ye(t,s,u){var c=Oe(t);return c.__iterateUncached=function(i,e){if(e)return this.cacheResult().__iterate(i,e);var o=0,a=!1;return function r(t,n){t.__iterate(function(t,e){return(!s||n<s)&&h(t)?r(t,n+1):(o++,!1===i(t,u?e:o-1,c)&&(a=!0)),!a},e)}(t,0),o},c.__iteratorUncached=function(r,n){if(n)return this.cacheResult().__iterator(r,n);var i=t.__iterator(r,n),o=[],a=0;return new H(function(){for(;i;){var t=i.next();if(!1===t.done){var e=t.value;if(r===V&&(e=e[1]),s&&!(o.length<s)||!h(e))return u?t:W(r,a++,e,t);o.push(i),i=e.__iterator(r,n)}else i=o.pop()}return{value:void 0,done:!0}})},c}function de(r,n,i){n=n||ze;var t=u(r),o=0,a=r.toSeq().map(function(t,e){return[e,t,o++,i?i(t,e,r):t]}).valueSeq().toArray();return a.sort(function(t,e){return n(t[3],e[3])||t[2]-e[2]}).forEach(t?function(t,e){a[e].length=2}:function(t,e){a[e]=t[1]}),t?at(a):_(r)?ct(a):pt(a)}function me(r,t,n,i){n=n||ze;function e(t,e){return n(t[3],e[3])||t[2]-e[2]}var o=u(r),a=0,s=r.toSeq().map(function(t,e){return[e,t,a++,i?i(t,e,r):t]}).valueSeq().toArray();return function(t,e,r){r=r||function(t,e){return e<t?1:t<e?-1:0},Qt(t,0,t.length-1,e,r)}(s,t,e),(s=s.slice(0,t)).sort(e).forEach(o?function(t,e){s[e].length=2}:function(t,e){s[e]=t[1]}),o?at(s):_(r)?ct(s):pt(s)}function ge(r,v,n,_){v=v||ze;var i=0,y=r.toSeq().map(function(t,e){return[e,t,i++,n?n(t,e,r):t]}).valueSeq(),t=Oe(r);return t.__iterateUncached=function(t,e){var r=y.toArray(),n=e?function(t,e){return v(e,t)}:v,i=function(t,e){return n(t[3],e[3])||t[2]-e[2]},o=r.length>>10;o=Math.min(r.length,10);var a,s=0,u=-1,c=0,h=0;function f(){return c<=h&&(s=u+1,u=Math.min(u+o,r.length-1),c=u-s+1,h=0,o<<=2,Qt(r,s,r.length-1,u,i),(a=r.slice(s,u+1)).sort(i).forEach(function(t,e){a[e].length=2})),a[h++]}for(var p=0;p<r.length;){var l=f();if(!1===t(l[1],_?l[0]:p,this))break;p++}return p},t.__iteratorUncached=function(e,t){var r=y.toArray(),n=t?function(t,e){return v(e,t)}:v,i=function(t,e){return n(t[3],e[3])||t[2]-e[2]},o=r.length>>10;o=Math.min(r.length,10);var a,s=0,u=-1,c=0,h=0;function f(){return c<=h&&(s=u+1,u=Math.min(u+o,r.length-1),c=u-s+1,h=0,o<<=2,Qt(r,s,r.length-1,u,i),(a=r.slice(s,u+1)).sort(i).forEach(function(t,e){a[e].length=2})),a[h++]}var p=0;return new H(function(){if(p>=r.length)return{value:void 0,done:!0};p++;var t=f();return W(e,_?t[0]:p,t[1])})},t}function we(r,n,i){if(n=n||ze,i){var t=r.toSeq().map(function(t,e){return[t,i(t,e,r)]}).reduce(function(t,e){return be(n,t[1],e[1])?e:t});return t&&t[0]}return r.reduce(function(t,e){return be(n,t,e)?e:t})}function be(t,e,r){var n=t(r,e);return 0===n&&r!==e&&(null==r||r!=r)||0<n}function Se(t,a,s,u){var e=Oe(t),r=new _t(s).map(function(t){return t.size});return e.size=u?r.max():r.min(),e.__iterate=function(t,e){for(var r,n=this.__iterator(L,e),i=0;!(r=n.next()).done&&!1!==t(r.value,i++,this););return i},e.__iteratorUncached=function(e,r){var n=s.map(function(t){return t=d(t),Q(r?t.reverse():t)}),i=0,o=!1;return new H(function(){var t;return o||(t=n.map(function(t){return t.next()}),o=u?t.every(function(t){return t.done}):t.some(function(t){return t.done})),o?{value:void 0,done:!0}:W(e,i++,a.apply(null,t.map(function(t){return t.value})))})},e}function Ee(t,e){return t===e?t:q(t)?e:t.constructor(e)}function ke(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function Ie(t){return u(t)?O:_(t)?M:A}function Oe(t){return Object.create((u(t)?at:_(t)?ct:pt).prototype)}function Ne(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):nt.prototype.cacheResult.call(this)}function ze(t,e){return void 0===t&&void 0===e?0:void 0===t?1:void 0===e?-1:e<t?1:t<e?-1:0}function Me(t,e){e=e||0;for(var r=Math.max(0,t.length-e),n=new Array(r),i=0;i<r;i++)n[i]=t[i+e];return n}function De(t,e){if(!t)throw new Error(e)}function xe(t){De(t!==1/0,"Cannot perform this action with an infinite size.")}function Ae(t){if(et(t)&&"string"!=typeof t)return t;if(P(t))return t.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+t)}function Re(t){return t&&("function"!=typeof t.constructor||"Object"===t.constructor.name)}function je(t){return"object"==typeof t&&(T(t)||Array.isArray(t)||Re(t))}function qe(e){try{return"string"==typeof e?JSON.stringify(e):String(e)}catch(t){return JSON.stringify(e)}}function Ce(t,e){return T(t)?t.has(e):je(t)&&tt.call(t,e)}function Be(t,e,r){return T(t)?t.get(e,r):Ce(t,e)?"function"==typeof t.get?t.get(e):t[e]:r}function Te(t){if(Array.isArray(t))return Me(t);var e={};for(var r in t)tt.call(t,r)&&(e[r]=t[r]);return e}function Fe(t,e){if(!je(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(T(t)){if(!t.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+t);return t.remove(e)}if(!tt.call(t,e))return t;var r=Te(t);return Array.isArray(r)?r.splice(e,1):delete r[e],r}function Pe(t,e,r){if(!je(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(T(t)){if(!t.set)throw new TypeError("Cannot update immutable value without .set() method: "+t);return t.set(e,r)}if(tt.call(t,e)&&r===t[e])return t;var n=Te(t);return n[e]=r,n}function Ue(t,e,r,n){n||(n=r,r=void 0);var i=function t(e,r,n,i,o,a){var s=r===E;if(i===n.length){var u=s?o:r,c=a(u);return c===u?r:c}if(!s&&!je(r))throw new TypeError("Cannot update within non-data-structure value in path ["+n.slice(0,i).map(qe)+"]: "+r);var h=n[i];var f=s?E:Be(r,h,E);var p=t(f===E?e:T(f),f,n,i+1,o,a);return p===f?r:p===E?Fe(r,h):Pe(s?e?zr():{}:r,h,p)}(T(t),t,Ae(e),0,r,n);return i===E?r:i}function Le(t,e,r){return Ue(t,e,E,function(){return r})}function Ve(t,e){return Le(this,t,e)}function Ke(t,e){return Ue(t,e,function(){return E})}function Xe(t){return Ke(this,t)}function Je(t,e,r,n){return Ue(t,[e],r,n)}function He(t,e,r){return 1===arguments.length?t(this):Je(this,t,e,r)}function We(t,e,r){return Ue(this,t,e,r)}function Ge(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return $e(this,t)}function Ye(t){for(var e=[],r=arguments.length-1;0<r--;)e[r]=arguments[r+1];if("function"!=typeof t)throw new TypeError("Invalid merger function: "+t);return $e(this,e,t)}function $e(t,e,i){for(var r=[],n=0;n<e.length;n++){var o=O(e[n]);0!==o.size&&r.push(o)}return 0===r.length?t:0!==t.toSeq().size||t.__ownerID||1!==r.length?t.withMutations(function(n){for(var t=i?function(e,r){Je(n,r,E,function(t){return t===E?e:i(t,e,r)})}:function(t,e){n.set(e,t)},e=0;e<r.length;e++)r[e].forEach(t)}):t.constructor(r[0])}function Qe(t){for(var e=[],r=arguments.length-1;0<r--;)e[r]=arguments[r+1];return nr(t,e)}function Ze(t,e){for(var r=[],n=arguments.length-2;0<n--;)r[n]=arguments[n+2];return nr(e,r,t)}function tr(t){for(var e=[],r=arguments.length-1;0<r--;)e[r]=arguments[r+1];return rr(t,e)}function er(t,e){for(var r=[],n=arguments.length-2;0<n--;)r[n]=arguments[n+2];return rr(e,r,t)}function rr(t,e,r){return nr(t,e,function(i){return function t(e,r,n){return je(e)&&je(r)?nr(e,[r],t):i?i(e,r,n):r}}(r))}function nr(i,t,o){if(!je(i))throw new TypeError("Cannot merge into non-data-structure value: "+i);if(T(i))return"function"==typeof o&&i.mergeWith?i.mergeWith.apply(i,[o].concat(t)):i.merge?i.merge.apply(i,t):i.concat.apply(i,t);for(var e=Array.isArray(i),a=i,r=e?M:O,n=e?function(t){a===i&&(a=Te(a)),a.push(t)}:function(t,e){var r=tt.call(a,e),n=r&&o?o(a[e],t,e):t;r&&n===a[e]||(a===i&&(a=Te(a)),a[e]=n)},s=0;s<t.length;s++)r(t[s]).forEach(n);return a}function ir(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return rr(this,t)}function or(t){for(var e=[],r=arguments.length-1;0<r--;)e[r]=arguments[r+1];return rr(this,e,t)}function ar(t){for(var e=[],r=arguments.length-1;0<r--;)e[r]=arguments[r+1];return Ue(this,t,zr(),function(t){return nr(t,e)})}function sr(t){for(var e=[],r=arguments.length-1;0<r--;)e[r]=arguments[r+1];return Ue(this,t,zr(),function(t){return rr(t,e)})}function ur(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this}function cr(){return this.__ownerID?this:this.__ensureOwner(new b)}function hr(){return this.__ensureOwner()}function fr(){return this.__altered}re.prototype.cacheResult=Zt.prototype.cacheResult=oe.prototype.cacheResult=ue.prototype.cacheResult=Ne;var pr,lr=((pr=O)&&(vr.__proto__=pr),((vr.prototype=Object.create(pr&&pr.prototype)).constructor=vr).of=function(){for(var r=[],t=arguments.length;t--;)r[t]=arguments[t];return zr().withMutations(function(t){for(var e=0;e<r.length;e+=2){if(e+1>=r.length)throw new Error("Missing value for key: "+r[e]);t.set(r[e],r[e+1])}})},vr.prototype.toString=function(){return this.__toString("Map {","}")},vr.prototype.get=function(t,e){return this._root?this._root.get(0,void 0,t,e):e},vr.prototype.set=function(t,e){return Mr(this,t,e)},vr.prototype.remove=function(t){return Mr(this,t,E)},vr.prototype.deleteAll=function(t){var r=d(t);return 0===r.size?this:this.withMutations(function(e){r.forEach(function(t){return e.remove(t)})})},vr.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):zr()},vr.prototype.sort=function(t){return nn(de(this,t))},vr.prototype.sortBy=function(t,e){return nn(de(this,e,t))},vr.prototype.map=function(n,i){return this.withMutations(function(r){r.forEach(function(t,e){r.set(e,n.call(i,t,e,r))})})},vr.prototype.__iterator=function(t,e){return new Er(this,t,e)},vr.prototype.__iterate=function(e,t){var r=this,n=0;return this._root&&this._root.iterate(function(t){return n++,e(t[1],t[0],r)},t),n},vr.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Nr(this.size,this._root,t,this.__hash):0===this.size?zr():(this.__ownerID=t,this.__altered=!1,this)},vr);function vr(e){return null==e?zr():!Mt(e)||P(e)||jt(e)?zr().withMutations(function(r){var t=pr(e);xe(t.size),t.forEach(function(t,e){return r.set(e,t)})}):e}lr.isMap=Mt;var _r=lr.prototype;_r[zt]=!0,_r[e]=_r.remove,_r.removeAll=_r.deleteAll,_r.setIn=Ve,_r.removeIn=_r.deleteIn=Xe,_r.update=He,_r.updateIn=We,_r.merge=_r.concat=Ge,_r.mergeWith=Ye,_r.mergeDeep=ir,_r.mergeDeepWith=or,_r.mergeIn=ar,_r.mergeDeepIn=sr,_r.withMutations=ur,_r.wasAltered=fr,_r.asImmutable=hr,_r["@@transducer/init"]=_r.asMutable=cr,_r["@@transducer/step"]=function(t,e){return t.set(e[0],e[1])},_r["@@transducer/result"]=function(t){return t.asImmutable()};var yr=function(t,e){this.ownerID=t,this.entries=e};yr.prototype.get=function(t,e,r,n){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(At(r,i[o][0]))return i[o][1];return n},yr.prototype.update=function(t,e,r,n,i,o,a){for(var s=i===E,u=this.entries,c=0,h=u.length;c<h&&!At(n,u[c][0]);c++);var f=c<h;if(f?u[c][1]===i:s)return this;if(S(a),!s&&f||S(o),!s||1!==u.length){if(!f&&!s&&u.length>=qr)return function(t,e,r,n){t=t||new b;for(var i=new wr(t,Tt(r),[r,n]),o=0;o<e.length;o++){var a=e[o];i=i.update(t,0,void 0,a[0],a[1])}return i}(t,u,n,i);var p=t&&t===this.ownerID,l=p?u:Me(u);return f?s?c===h-1?l.pop():l[c]=l.pop():l[c]=[n,i]:l.push([n,i]),p?(this.entries=l,this):new yr(t,l)}};var dr=function(t,e,r){this.ownerID=t,this.bitmap=e,this.nodes=r};dr.prototype.get=function(t,e,r,n){void 0===e&&(e=Tt(r));var i=1<<((0===t?e:e>>>t)&w),o=this.bitmap;return 0==(o&i)?n:this.nodes[Rr(o&i-1)].get(t+g,e,r,n)},dr.prototype.update=function(t,e,r,n,i,o,a){void 0===r&&(r=Tt(n));var s=(0===e?r:r>>>e)&w,u=1<<s,c=this.bitmap,h=0!=(c&u);if(!h&&i===E)return this;var f=Rr(c&u-1),p=this.nodes,l=h?p[f]:void 0,v=Dr(l,t,e+g,r,n,i,o,a);if(v===l)return this;if(!h&&v&&p.length>=Cr)return function(t,e,r,n,i){for(var o=0,a=new Array(m),s=0;0!==r;s++,r>>>=1)a[s]=1&r?e[o++]:void 0;return a[n]=i,new mr(t,o+1,a)}(t,p,c,s,v);if(h&&!v&&2===p.length&&xr(p[1^f]))return p[1^f];if(h&&v&&1===p.length&&xr(v))return v;var _=t&&t===this.ownerID,y=h?v?c:c^u:c|u,d=h?v?jr(p,f,v,_):function(t,e,r){var n=t.length-1;if(r&&e===n)return t.pop(),t;for(var i=new Array(n),o=0,a=0;a<n;a++)a===e&&(o=1),i[a]=t[a+o];return i}(p,f,_):function(t,e,r,n){var i=t.length+1;if(n&&e+1===i)return t[e]=r,t;for(var o=new Array(i),a=0,s=0;s<i;s++)s===e?(o[s]=r,a=-1):o[s]=t[s+a];return o}(p,f,v,_);return _?(this.bitmap=y,this.nodes=d,this):new dr(t,y,d)};var mr=function(t,e,r){this.ownerID=t,this.count=e,this.nodes=r};mr.prototype.get=function(t,e,r,n){void 0===e&&(e=Tt(r));var i=(0===t?e:e>>>t)&w,o=this.nodes[i];return o?o.get(t+g,e,r,n):n},mr.prototype.update=function(t,e,r,n,i,o,a){void 0===r&&(r=Tt(n));var s=(0===e?r:r>>>e)&w,u=i===E,c=this.nodes,h=c[s];if(u&&!h)return this;var f=Dr(h,t,e+g,r,n,i,o,a);if(f===h)return this;var p=this.count;if(h){if(!f&&--p<Br)return function(t,e,r,n){for(var i=0,o=0,a=new Array(r),s=0,u=1,c=e.length;s<c;s++,u<<=1){var h=e[s];void 0!==h&&s!==n&&(i|=u,a[o++]=h)}return new dr(t,i,a)}(t,c,p,s)}else p++;var l=t&&t===this.ownerID,v=jr(c,s,f,l);return l?(this.count=p,this.nodes=v,this):new mr(t,p,v)};var gr=function(t,e,r){this.ownerID=t,this.keyHash=e,this.entries=r};gr.prototype.get=function(t,e,r,n){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(At(r,i[o][0]))return i[o][1];return n},gr.prototype.update=function(t,e,r,n,i,o,a){void 0===r&&(r=Tt(n));var s=i===E;if(r!==this.keyHash)return s?this:(S(a),S(o),Ar(this,t,e,r,[n,i]));for(var u=this.entries,c=0,h=u.length;c<h&&!At(n,u[c][0]);c++);var f=c<h;if(f?u[c][1]===i:s)return this;if(S(a),!s&&f||S(o),s&&2===h)return new wr(t,this.keyHash,u[1^c]);var p=t&&t===this.ownerID,l=p?u:Me(u);return f?s?c===h-1?l.pop():l[c]=l.pop():l[c]=[n,i]:l.push([n,i]),p?(this.entries=l,this):new gr(t,this.keyHash,l)};var wr=function(t,e,r){this.ownerID=t,this.keyHash=e,this.entry=r};wr.prototype.get=function(t,e,r,n){return At(r,this.entry[0])?this.entry[1]:n},wr.prototype.update=function(t,e,r,n,i,o,a){var s=i===E,u=At(n,this.entry[0]);return(u?i===this.entry[1]:s)?this:(S(a),s?void S(o):u?t&&t===this.ownerID?(this.entry[1]=i,this):new wr(t,this.keyHash,[n,i]):(S(o),Ar(this,t,e,Tt(n),[n,i])))},yr.prototype.iterate=gr.prototype.iterate=function(t,e){for(var r=this.entries,n=0,i=r.length-1;n<=i;n++)if(!1===t(r[e?i-n:n]))return!1},dr.prototype.iterate=mr.prototype.iterate=function(t,e){for(var r=this.nodes,n=0,i=r.length-1;n<=i;n++){var o=r[e?i-n:n];if(o&&!1===o.iterate(t,e))return!1}},wr.prototype.iterate=function(t,e){return t(this.entry)};var br,Sr,Er=((br=H)&&(kr.__proto__=br),((kr.prototype=Object.create(br&&br.prototype)).constructor=kr).prototype.next=function(){for(var t=this,e=this._type,r=this._stack;r;){var n=r.node,i=r.index++,o=void 0;if(n.entry){if(0==i)return Ir(e,n.entry)}else if(n.entries){if(i<=(o=n.entries.length-1))return Ir(e,n.entries[t._reverse?o-i:i])}else if(i<=(o=n.nodes.length-1)){var a=n.nodes[t._reverse?o-i:i];if(a){if(a.entry)return Ir(e,a.entry);r=t._stack=Or(a,r)}continue}r=t._stack=t._stack.__prev}return{value:void 0,done:!0}},kr);function kr(t,e,r){this._type=e,this._reverse=r,this._stack=t._root&&Or(t._root)}function Ir(t,e){return W(t,e[0],e[1])}function Or(t,e){return{node:t,index:0,__prev:e}}function Nr(t,e,r,n){var i=Object.create(_r);return i.size=t,i._root=e,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}function zr(){return Sr=Sr||Nr(0)}function Mr(t,e,r){var n,i;if(t._root){var o={value:!1},a={value:!1};if(n=Dr(t._root,t.__ownerID,0,void 0,e,r,o,a),!k(a))return t;i=t.size+(k(o)?r===E?-1:1:0)}else{if(r===E)return t;i=1,n=new yr(t.__ownerID,[[e,r]])}return t.__ownerID?(t.size=i,t._root=n,t.__hash=void 0,t.__altered=!0,t):n?Nr(i,n):zr()}function Dr(t,e,r,n,i,o,a,s){return t?t.update(e,r,n,i,o,a,s):o===E?t:(S(s),S(a),new wr(e,n,[i,o]))}function xr(t){return t.constructor===wr||t.constructor===gr}function Ar(t,e,r,n,i){if(t.keyHash===n)return new gr(e,n,[t.entry,i]);var o,a=(0===r?t.keyHash:t.keyHash>>>r)&w,s=(0===r?n:n>>>r)&w,u=a==s?[Ar(t,e,r+g,n,i)]:(o=new wr(e,n,i),a<s?[t,o]:[o,t]);return new dr(e,1<<a|1<<s,u)}function Rr(t){return t=(t=(858993459&(t-=t>>1&1431655765))+(t>>2&858993459))+(t>>4)&252645135,t+=t>>8,127&(t+=t>>16)}function jr(t,e,r,n){var i=n?t:Me(t);return i[e]=r,i}var qr=m/4,Cr=m/2,Br=m/4,Tr="@@__IMMUTABLE_LIST__@@";function Fr(t){return Boolean(t&&t[Tr])}var Pr,Ur=((Pr=M)&&(Lr.__proto__=Pr),((Lr.prototype=Object.create(Pr&&Pr.prototype)).constructor=Lr).of=function(){return this(arguments)},Lr.prototype.toString=function(){return this.__toString("List [","]")},Lr.prototype.get=function(t,e){if(0<=(t=a(this,t))&&t<this.size){var r=Qr(this,t+=this._origin);return r&&r.array[t&w]}return e},Lr.prototype.set=function(t,e){return function(t,e,r){if((e=a(t,e))!=e)return t;if(e>=t.size||e<0)return t.withMutations(function(t){e<0?Zr(t,e).set(0,r):Zr(t,0,e+1).set(e,r)});e+=t._origin;var n=t._tail,i=t._root,o={value:!1};return e>=tn(t._capacity)?n=Yr(n,t.__ownerID,0,e,r,o):i=Yr(i,t.__ownerID,t._level,e,r,o),k(o)?t.__ownerID?(t._root=i,t._tail=n,t.__hash=void 0,t.__altered=!0,t):Wr(t._origin,t._capacity,t._level,i,n):t}(this,t,e)},Lr.prototype.remove=function(t){return this.has(t)?0===t?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},Lr.prototype.insert=function(t,e){return this.splice(t,0,e)},Lr.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=g,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Gr()},Lr.prototype.push=function(){var r=arguments,n=this.size;return this.withMutations(function(t){Zr(t,0,n+r.length);for(var e=0;e<r.length;e++)t.set(n+e,r[e])})},Lr.prototype.pop=function(){return Zr(this,0,-1)},Lr.prototype.unshift=function(){var r=arguments;return this.withMutations(function(t){Zr(t,-r.length);for(var e=0;e<r.length;e++)t.set(e,r[e])})},Lr.prototype.shift=function(){return Zr(this,1)},Lr.prototype.concat=function(){for(var t=arguments,r=[],e=0;e<arguments.length;e++){var n=t[e],i=Pr("string"!=typeof n&&Y(n)?n:[n]);0!==i.size&&r.push(i)}return 0===r.length?this:0!==this.size||this.__ownerID||1!==r.length?this.withMutations(function(e){r.forEach(function(t){return t.forEach(function(t){return e.push(t)})})}):this.constructor(r[0])},Lr.prototype.setSize=function(t){return Zr(this,0,t)},Lr.prototype.map=function(r,n){var i=this;return this.withMutations(function(t){for(var e=0;e<i.size;e++)t.set(e,r.call(n,t.get(e),e,t))})},Lr.prototype.slice=function(t,e){var r=this.size;return f(t,e,r)?this:Zr(this,p(t,r),l(e,r))},Lr.prototype.__iterator=function(e,r){var n=r?this.size:0,i=Hr(this,r);return new H(function(){var t=i();return t===Jr?{value:void 0,done:!0}:W(e,r?--n:n++,t)})},Lr.prototype.__iterate=function(t,e){for(var r,n=e?this.size:0,i=Hr(this,e);(r=i())!==Jr&&!1!==t(r,e?--n:n++,this););return n},Lr.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Wr(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):0===this.size?Gr():(this.__ownerID=t,this.__altered=!1,this)},Lr);function Lr(t){var e=Gr();if(null==t)return e;if(Fr(t))return t;var n=Pr(t),i=n.size;return 0===i?e:(xe(i),0<i&&i<m?Wr(0,i,g,null,new Kr(n.toArray())):e.withMutations(function(r){r.setSize(i),n.forEach(function(t,e){return r.set(e,t)})}))}Ur.isList=Fr;var Vr=Ur.prototype;Vr[Tr]=!0,Vr[e]=Vr.remove,Vr.merge=Vr.concat,Vr.setIn=Ve,Vr.deleteIn=Vr.removeIn=Xe,Vr.update=He,Vr.updateIn=We,Vr.mergeIn=ar,Vr.mergeDeepIn=sr,Vr.withMutations=ur,Vr.wasAltered=fr,Vr.asImmutable=hr,Vr["@@transducer/init"]=Vr.asMutable=cr,Vr["@@transducer/step"]=function(t,e){return t.push(e)},Vr["@@transducer/result"]=function(t){return t.asImmutable()};var Kr=function(t,e){this.array=t,this.ownerID=e};Kr.prototype.removeBefore=function(t,e,r){if(r===e?1<<e:0===this.array.length)return this;var n=r>>>e&w;if(n>=this.array.length)return new Kr([],t);var i,o=0==n;if(0<e){var a=this.array[n];if((i=a&&a.removeBefore(t,e-g,r))===a&&o)return this}if(o&&!i)return this;var s=$r(this,t);if(!o)for(var u=0;u<n;u++)s.array[u]=void 0;return i&&(s.array[n]=i),s},Kr.prototype.removeAfter=function(t,e,r){if(r===(e?1<<e:0)||0===this.array.length)return this;var n,i=r-1>>>e&w;if(i>=this.array.length)return this;if(0<e){var o=this.array[i];if((n=o&&o.removeAfter(t,e-g,r))===o&&i==this.array.length-1)return this}var a=$r(this,t);return a.array.splice(1+i),n&&(a.array[i]=n),a};var Xr,Jr={};function Hr(t,u){var c=t._origin,h=t._capacity,o=tn(h),a=t._tail;return f(t._root,t._level,0);function f(t,e,r){return 0===e?function(t,e){var r=e===o?a&&a.array:t&&t.array,n=c<e?0:c-e,i=h-e;m<i&&(i=m);return function(){if(n===i)return Jr;var t=u?--i:n++;return r&&r[t]}}(t,r):function(t,r,n){var i,o=t&&t.array,a=c<n?0:c-n>>r,s=1+(h-n>>r);m<s&&(s=m);return function(){for(;;){if(i){var t=i();if(t!==Jr)return t;i=null}if(a===s)return Jr;var e=u?--s:a++;i=f(o&&o[e],r-g,n+(e<<r))}}}(t,e,r)}}function Wr(t,e,r,n,i,o,a){var s=Object.create(Vr);return s.size=e-t,s._origin=t,s._capacity=e,s._level=r,s._root=n,s._tail=i,s.__ownerID=o,s.__hash=a,s.__altered=!1,s}function Gr(){return Xr=Xr||Wr(0,0,g)}function Yr(t,e,r,n,i,o){var a,s=n>>>r&w,u=t&&s<t.array.length;if(!u&&void 0===i)return t;if(0<r){var c=t&&t.array[s],h=Yr(c,e,r-g,n,i,o);return h===c?t:((a=$r(t,e)).array[s]=h,a)}return u&&t.array[s]===i?t:(o&&S(o),a=$r(t,e),void 0===i&&s==a.array.length-1?a.array.pop():a.array[s]=i,a)}function $r(t,e){return e&&t&&e===t.ownerID?t:new Kr(t?t.array.slice():[],e)}function Qr(t,e){if(e>=tn(t._capacity))return t._tail;if(e<1<<t._level+g){for(var r=t._root,n=t._level;r&&0<n;)r=r.array[e>>>n&w],n-=g;return r}}function Zr(t,e,r){void 0!==e&&(e|=0),void 0!==r&&(r|=0);var n=t.__ownerID||new b,i=t._origin,o=t._capacity,a=i+e,s=void 0===r?o:r<0?o+r:i+r;if(a===i&&s===o)return t;if(s<=a)return t.clear();for(var u=t._level,c=t._root,h=0;a+h<0;)c=new Kr(c&&c.array.length?[void 0,c]:[],n),h+=1<<(u+=g);h&&(a+=h,i+=h,s+=h,o+=h);for(var f=tn(o),p=tn(s);1<<u+g<=p;)c=new Kr(c&&c.array.length?[c]:[],n),u+=g;var l=t._tail,v=p<f?Qr(t,s-1):f<p?new Kr([],n):l;if(l&&f<p&&a<o&&l.array.length){for(var _=c=$r(c,n),y=u;g<y;y-=g){var d=f>>>y&w;_=_.array[d]=$r(_.array[d],n)}_.array[f>>>g&w]=l}if(s<o&&(v=v&&v.removeAfter(n,0,s)),p<=a)a-=p,s-=p,u=g,c=null,v=v&&v.removeBefore(n,0,a);else if(i<a||p<f){for(h=0;c;){var m=a>>>u&w;if(m!=p>>>u&w)break;m&&(h+=(1<<u)*m),u-=g,c=c.array[m]}c&&i<a&&(c=c.removeBefore(n,u,a-h)),c&&p<f&&(c=c.removeAfter(n,u,p-h)),h&&(a-=h,s-=h)}return t.__ownerID?(t.size=s-a,t._origin=a,t._capacity=s,t._level=u,t._root=c,t._tail=v,t.__hash=void 0,t.__altered=!0,t):Wr(a,s,u,c,v)}function tn(t){return t<m?0:t-1>>>g<<g}var en,rn,nn=((en=lr)&&(on.__proto__=en),((on.prototype=Object.create(en&&en.prototype)).constructor=on).of=function(){return this(arguments)},on.prototype.toString=function(){return this.__toString("OrderedMap {","}")},on.prototype.get=function(t,e){var r=this._map.get(t);return void 0!==r?this._list.get(r)[1]:e},on.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):sn()},on.prototype.set=function(t,e){return un(this,t,e)},on.prototype.remove=function(t){return un(this,t,E)},on.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},on.prototype.__iterate=function(e,t){var r=this;return this._list.__iterate(function(t){return t&&e(t[1],t[0],r)},t)},on.prototype.__iterator=function(t,e){return this._list.fromEntrySeq().__iterator(t,e)},on.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t),r=this._list.__ensureOwner(t);return t?an(e,r,t,this.__hash):0===this.size?sn():(this.__ownerID=t,this._map=e,this._list=r,this)},on);function on(e){return null==e?sn():Dt(e)?e:sn().withMutations(function(r){var t=O(e);xe(t.size),t.forEach(function(t,e){return r.set(e,t)})})}function an(t,e,r,n){var i=Object.create(nn.prototype);return i.size=t?t.size:0,i._map=t,i._list=e,i.__ownerID=r,i.__hash=n,i}function sn(){return rn=rn||an(zr(),Gr())}function un(t,e,r){var n,i,o=t._map,a=t._list,s=o.get(e),u=void 0!==s;if(r===E){if(!u)return t;a.size>=m&&a.size>=2*o.size?(n=(i=a.filter(function(t,e){return void 0!==t&&s!==e})).toKeyedSeq().map(function(t){return t[0]}).flip().toMap(),t.__ownerID&&(n.__ownerID=i.__ownerID=t.__ownerID)):(n=o.remove(e),i=s===a.size-1?a.pop():a.set(s,void 0))}else if(u){if(r===a.get(s)[1])return t;n=o,i=a.set(s,[e,r])}else n=o.set(e,a.size),i=a.set(a.size,[e,r]);return t.__ownerID?(t.size=n.size,t._map=n,t._list=i,t.__hash=void 0,t):an(n,i)}function cn(t){return Mt(t)&&jt(t)}nn.isOrderedMap=Dt,nn.prototype[F]=!0,nn.prototype[e]=nn.prototype.remove;function hn(t,e,r){this.comparator=t,this.options=e,this.ownerID=r}hn.prototype.getComparator=function(){},hn.prototype.get=function(t,e){},hn.prototype.upsert=function(t,e,r,n,i){},hn.prototype.remove=function(t,e,r,n){},hn.prototype.fastRemove=function(t,e,r,n){},hn.prototype.iterate=function(t,e){},hn.prototype.print=function(t,e){},hn.prototype.checkConsistency=function(t){};function fn(){}fn.prototype.pack=function(t,e,r,n){};function pn(){}pn.prototype.createNode=function(t,e,r,n,i){},pn.prototype.createPacker=function(){},pn.prototype.createIterator=function(t,e,r){};var ln,vn=((ln=hn)&&(_n.__proto__=ln),((_n.prototype=Object.create(ln&&ln.prototype)).constructor=_n).prototype._calcSize=function(){for(var t=this.size=0;t<this.entries.length;t++)this.entries[t][1]!==E&&this.size++;if(this.nodes)for(var e=0;e<this.nodes.length;e++)this.size+=this.nodes[e].size},_n.prototype.getComparator=function(){return this.comparator},_n.prototype.get=function(t,e){var r=this.entries,n={value:!1},i=xn(this.comparator,r,t,n);if(k(n)){var o=r[i][1];return o===E?e:o}var a=this.nodes;if(a){var s=a[i].get(t,e);return s===E?e:s}return e},_n.prototype.entryAt=function(t){var e={value:!1},r={value:!1},n=this.indexSearch(t,e,r);if(k(e)){var i=this.entries[n];return[i[0],i[1]]}return this.nodes[n].entryAt(r.value)},_n.prototype.keyAt=function(t){var e={value:!1},r={value:!1},n=this.indexSearch(t,e,r);return k(e)?this.entries[n][0]:this.nodes[n].keyAt(r.value)},_n.prototype.valueAt=function(t){var e={value:!1},r={value:!1},n=this.indexSearch(t,e,r);return k(e)?this.entries[n][1]:this.nodes[n].valueAt(r.value)},_n.prototype.firstKey=function(){var t=this.nodes;return t?t[0].firstKey():this.entries[0][0]},_n.prototype.lastKey=function(){var t=this.nodes;if(t)return t[t.length-1].lastKey();var e=this.entries;return e[e.length-1][0]},_n.prototype.upsert=function(t,e,r,n,i,o){var a=this._upsert(t,e,r,n,i,o);return this===a&&k(n)&&this.size++,a},_n.prototype._upsert=function(t,e,r,n,i,o){if(!o){var a=[],s=this.upsert(t,e,r,n,i,a);if(a[0]){var u=[a[0]],c=[s,a[1]];s=new _n(this.comparator,this.options,t,u,c)}return s}var h,f,p=this.entries,l={value:!1},v=xn(this.comparator,p,e,l),_=k(l),y=this.nodes,d=t&&t===this.ownerID;if(_){if(p[v][1]===r)return this;var m=[e,r];S(i),p[v][1]===E&&S(n),h=In(p,v,m,d),f=kn(y,d)}else if(y){var g=[],w=y[v].upsert(t,e,r,n,i,g);if(!k(i))return this;if(g[0]){if(p.length>=this.btreeOrder-1)return this.splitNode(v,w,g,o,t,d);h=On(p,v,g[0],d),(f=On(y,v+1,g[1],d))[v]=w}else h=kn(p,d),f=In(y,v,w,d)}else{var b=[e,r];if(S(i),S(n),p.length>=this.btreeOrder-1)return this.splitLeaf(v,b,o,t,d);h=On(p,v,b,d)}return this.makeNewNode(h,f,t,d)},_n.prototype.fastRemove=function(t,e,r,n){var i=this._fastRemove(t,e,r,n);return this===i&&k(r)&&this.size--,i},_n.prototype._fastRemove=function(t,e,r,n){var i,o,a=this.entries,s={value:!1},u=xn(this.comparator,a,e,s),c=k(s),h=this.nodes,f=t&&t===this.ownerID;if(c){if(a[u][1]===E)return this;S(n),S(r),i=In(a,u,[e,E],f),o=kn(h,f)}else{if(!h)return this;var p=h[u].fastRemove(t,e,r,n);if(!k(n))return this;i=kn(a,f),o=In(h,u,p,f)}return this.makeNewNode(i,o,t,f)},_n.prototype.remove=function(t,e,r,n,i,o,a){var s=this._remove(t,e,r,n,i,o,a);return this===s&&k(r)&&this.size--,s},_n.prototype._remove=function(t,e,r,n,i,o,a){var s,u,c=this.entries,h={value:!1},f=xn(this.comparator,c,e,h),p=k(h),l=this.nodes,v=t&&t===this.ownerID;if(!p){if(l){var _=[void 0,void 0,void 0],y=l[f].remove(t,e,r,n,this,f,_);return k(n)?this.spliceNode(t,f,y,i,o,v,_,a):this}return this}if(l){if(c[f][1]===E)return this;S(n),S(r),s=In(c,f,[e,E],v),u=kn(l,v)}else{if(c[f][1]===E)return this;if(S(n),S(r),c.length<=this.btreeNodeSplitSize&&i)return this.consolidateLeaf(t,f,i,o,v,a);s=Nn(c,f,v)}return this.makeNewNode(s,u,t,v)},_n.prototype.makeNewNode=function(t,e,r,n){return 0===t.length?e?e[0]:void 0:n?(this.entries=t,this.nodes=e,this._calcSize(),this):new _n(this.comparator,this.options,r,t,e)},_n.prototype.print=function(t,e){function r(t){uo.stdout.write(t)}if(!(e&&e<=t)){var n=this.nodes,i=this.entries;if(r(En(t)),r("SIZE="+this.size+"\n"),n)for(var o=0;o<n.length;o++){var a=n[o];if(r(En(t)),a&&a instanceof ln?(a.nodes?r("+ NODE["+o+"] (L"+t+")\n"):r("+ LEAF["+o+"] (L"+t+")\n"),a.print(t+1,e)):r("+ CORRUPT NODE["+o+"] (L"+t+") "+JSON.stringify(a)+"\n"),o<i.length){r(En(t));var s=i[o];s?s[1]===E?r("- REMOVED ENTRY["+o+"]: "+JSON.stringify(s[0])+"\n"):r("- ENTRY["+o+"]: "+JSON.stringify(s[0])+"\n"):r("- CORRUPT ENTRY["+o+"]: "+JSON.stringify(s)+"\n")}}else for(var u=0;u<i.length;u++){r(En(t));var c=i[u];c?c[1]===E?r("- REMOVED ENTRY["+u+"]: "+JSON.stringify(c[0])+"\n"):r("- ENTRY["+u+"]: "+JSON.stringify(c[0])+"\n"):r("- CORRUPT ENTRY["+u+"]: "+JSON.stringify(c)+"\n")}}},_n.prototype.checkConsistency=function(n,r,t,e){function i(t){if(n){var e=t();void 0!==e&&(uo.stdout.write(En(r)),uo.stdout.write(e))}}function o(t,e){var r="Consistency Check Failed with error code "+t+": "+e;if(n)return i(function(){return r+"\n"}),t;throw new Error(r)}r=r||0,t=t||0,e=e||[void 0],this.nodes?i(function(){return"+ Checking NODE["+t+"] (L"+r+")\n"}):(i(function(){return"+ Checking LEAF["+t+"] (L"+r+")\n"}),void 0===e[0]?e[0]=r:e[0]!==r&&o(112,"leaves are not on the same level"));var a=this.entries,s=this.nodes;if(!a)return o(101,"empty entries in a node");if(!(0<a.length&&a.length<this.btreeOrder))return o(102,"entries length is out of range from 0 to (btreeOrder-1)");if(0<r&&!(this.btreeNodeSplitSize<=a.length))return o(103,"entries length is shorter than btreeNodeSplitSize");if(s&&s.length!==a.length+1)return o(104,"nodes length out of sync with entries length");for(var u=function(t){var e=a[t];return e?"object"==typeof e&&e instanceof Array?2!==e.length?{v:o(107,"entry is not Array[2]")}:void(e[1]===E?(i(function(){return"    - Checking REMOVED ENTRY["+t+"]: "+JSON.stringify(e[0])+"\n"}),s||o(113,"NOT_SET values are not allowed in leaves")):i(function(){return"    - Checking ENTRY["+t+"]: "+JSON.stringify(e[0])+"\n"})):{v:o(106,"entry is not Array")}:{v:o(105,"empty entry")}},c=0;c<a.length;c++){var h=u(c);if(h)return h.v}for(var f=0;f<a.length-1;f++)if(!(this.comparator(a[f][0],a[f+1][0])<0))return o(108,"the entries are not sorted");if(s)for(var p=0;p<s.length;p++){var l=s[p];if(!(l&&l instanceof ln))return o(109,"empty or corrupt node");var v=l.checkConsistency(n,r+1,p,e);if(0!==v)return v;if(0<p&&!(this.comparator(a[p-1][0],l.firstKey())<0))return o(110,"the entry and right node not sorted");if(p<a.length&&!(this.comparator(l.lastKey(),a[p][0])<0))return o(111,"the entry and left node not sorted")}return 0},_n);function _n(t,e,r,n,i){return ln.call(this,t,e,r),this.entries=n,this.nodes=i,this.btreeOrder=e&&e.btreeOrder?e.btreeOrder:33,this.btreeNodeSplitSize=Math.floor((this.btreeOrder-1)/2),this._calcSize(),this}vn.prototype.iterate=function(t,e){var r=this.entries,n=this.nodes;if(n){for(var i=0,o=r.length-1;i<=o;i++){if(!1===n[e?1+o-i:i].iterate(t,e))return!1;var a=r[e?o-i:i];if(a[1]!==E&&!1===t(a))return!1}if(!1===n[e?0:n.length-1].iterate(t,e))return!1}else for(var s=0,u=r.length-1;s<=u;s++){var c=r[e?u-s:s];if(c[1]!==E&&!1===t(c))return!1}return!0},vn.prototype.iterateFrom=function(e,r,t){var n=this;if(t)return this.iterate(function(t){return!(n.comparator(e,t[0])<=0)||r(t)},t);var i=this.entries,o=this.nodes,a={value:!1},s=xn(this.comparator,i,e,a);if(o){for(var u=s,c=i.length-1;u<=c;u++){var h=o[u];if(u!==s||k(a)){if(s<u&&!1===h.iterate(r,t))return!1}else if(!1===h.iterateFrom(e,r,t))return!1;var f=i[u];if(f[1]!==E&&!1===r(f))return!1}var p=o[o.length-1];if(s===o.length-1){if(!1===p.iterateFrom(e,r,t))return!1}else if(!1===p.iterate(r,t))return!1}else for(var l=s,v=i.length-1;l<=v;l++){var _=i[l];if(_[1]!==E&&!1===r(_))return!1}return!0},vn.prototype.iterateFromBackwards=function(e,r,t){var n=this;if(t)return this.iterate(function(t){return!(n.comparator(t[0],e)<=0)||r(t)},!1);var i=this.entries,o=this.nodes,a={value:!1},s=xn(this.comparator,i,e,a);if(o)for(var u=s;0<=u;u--){if(u<s||k(a)){var c=i[u];if(c[1]===E)continue;if(!1===r(c))return!1}var h=o[u];if(u!==s||k(a)){if(!1===h.iterate(r,!0))return!1}else if(!1===h.iterateFromBackwards(e,r,t))return!1}else for(var f=k(a)?s:s-1;0<=f;f--){var p=i[f];if(p[1]!==E&&!1===r(p))return!1}return!0},vn.prototype.iterateFromIndex=function(t,e){var r=this.entries,n=this.nodes,i={value:!1},o={value:!1},a=this.indexSearch(t,i,o);if(n){for(var s=a,u=r.length-1;s<=u;s++){var c=n[s];if(s!==a||k(i)){if(a<s&&!1===c.iterate(e,!1))return!1}else if(!1===c.iterateFromIndex(o.value,e))return!1;var h=r[s];if(h[1]!==E&&!1===e(h))return!1}var f=n[n.length-1];if(a===n.length-1){if(!1===f.iterateFromIndex(o.value,e))return!1}else if(!1===f.iterate(e,!1))return!1}else for(var p=a,l=r.length-1;p<=l;p++){var v=r[p];if(v[1]!==E&&!1===e(v))return!1}return!0},vn.prototype.iterateFromIndexBackwards=function(t,e){var r=this.entries,n=this.nodes,i={value:!1},o={value:!1},a=this.indexSearch(t,i,o);if(n)for(var s=a;0<=s;s--){if(s<a||k(i)){var u=r[s];if(u[1]===E)continue;if(!1===e(u))return!1}var c=n[s];if(s!==a||k(i)){if(!1===c.iterate(e,!0))return!1}else if(!1===c.iterateFromIndexBackwards(o.value,e))return!1}else for(var h=k(i)?a:a-1;0<=h;h--){var f=r[h];if(f[1]!==E&&!1===e(f))return!1}return!0};var yn,dn=((yn=H)&&(mn.__proto__=yn),((mn.prototype=Object.create(yn&&yn.prototype)).constructor=mn).prototype.next=function(){for(var t=this,e=this._type,r=this._stack;r;){var n=r.node,i=r.index++;if(n.nodes){if(i<=n.entries.length+n.nodes.length-1){if(i%2==0){i/=2;var o=n.nodes[t._reverse?n.nodes.length-1-i:i];o&&(r=t._stack=wn(o,r));continue}i=(i-1)/2;var a=n.entries[t._reverse?n.entries.length-1-i:i];if(a[1]===E)continue;return gn(e,a)}}else{var s=n.entries.length-1;if(i<=s){var u=n.entries[t._reverse?s-i:i];if(u[1]===E)continue;return gn(e,u)}}r=t._stack=t._stack.__prev}return{value:void 0,done:!0}},mn);function mn(t,e,r){this._type=e,this._reverse=r,this._stack=t._root&&wn(t._root)}function gn(t,e){return W(t,e[0],e[1])}function wn(t,e){return{node:t,index:0,__prev:e}}function bn(t){return new Array(t)}var Sn=new Array(120).join(" ");function En(t){var e=4*t;return e>Sn.length&&(e=Sn.length),Sn.substring(0,e)}function kn(t,e){if(void 0===t)return t;if(e)return t;for(var r=t.length,n=bn(r),i=0;i<r;i++)n[i]=t[i];return n}function In(t,e,r,n){if(n)return t[e]=r,t;for(var i=t.length,o=bn(i),a=0;a<e;a++)o[a]=t[a];o[e]=r;for(var s=e+1;s<i;s++)o[s]=t[s];return o}function On(t,e,r,n){var i=t.length+1;if(n){for(var o=i-1,a=e+1;a<=o;o--)t[o]=t[o-1];return t[e]=r,t}for(var s=bn(i),u=0;u<e;u++)s[u]=t[u];s[e]=r;for(var c=e+1;c<i;c++)s[c]=t[c-1];return s}function Nn(t,e,r){var n=t.length-1;if(r){for(var i=e;i<n;i++)t[i]=t[i+1];return t.length=n,t}for(var o=bn(n),a=0;a<e;a++)o[a]=t[a];for(var s=e;s<n;s++)o[s]=t[s+1];return o}function zn(t,e,r,n){var i=t.length-r;if(n){for(var o=e;o<i;o++)t[o]=t[o+r];return t.length=i,t}for(var a=bn(i),s=0;s<e;s++)a[s]=t[s];for(var u=e;u<i;u++)a[u]=t[u+r];return a}function Mn(t,e,r,n){var i,o=t.length-1+r;i=n?(t.length=o,t):bn(o);for(var a=o-1,s=e+r;s<=a;a--)i[a]=t[a-r+1];for(var u=e+r-1;r<=u;u--)i[u]=t[u-r];return i}function Dn(t,e,r,n,i){var o=Nn(t,n,i);return e<n?o[e]=r:n<e&&(o[e-1]=r),o}function xn(t,e,r,n){for(var i=0,o=e.length;0<o;){var a=Math.floor(o/2),s=t(r,e[i+a][0]);if(0===s)return S(n),i+a;0<s?(i+=a+1,o-=a+1):o=a}return i}vn.prototype.indexSearch=function(t,e,r){if(t<0||t>=this.size)throw new Error("BtreeNode.indexSearch: index is out of bounds: "+t+" vs "+this.size);for(var n=this.entries,i=this.nodes,o=0;o<n.length;o++){if(i){var a=i[o];if(t<a.size)return r.value=t,o;t-=a.size}if(n[o][1]!==E){if(0===t)return S(e),o;t--}}if(i&&t<i[i.length-1].size)return r.value=t,i.length-1;throw new Error("BtreeNode.indexSearch: inconsistent node size")},vn.prototype.splitNode=function(t,e,r,n,i,o){var a,s,u=this.entries,c=this.nodes,h=this.btreeNodeSplitSize;if(t<h){var f=u.slice(h,u.length),p=c.slice(h,c.length),l=new vn(this.comparator,this.options,this.ownerID,f,p);if(n[0]=u[h-1],n[1]=l,o){u.length=h,c.length=h+1;for(var v=h-1;t+1<=v;v--)u[v]=u[v-1],c[v+1]=c[v];u[t]=r[0],c[t]=e,c[t+1]=r[1],a=u,s=c}else{a=bn(h),s=bn(h+1);for(var _=0;_<t;_++)a[_]=u[_],s[_]=c[_];a[t]=r[0],s[t]=e,s[t+1]=r[1];for(var y=t+1;y<h;y++)a[y]=u[y-1],s[y+1]=c[y]}}else if(t===h){var d=bn(u.length-h),m=bn(c.length-h);d[0]=u[h],m[0]=r[1];for(var g=1,w=d.length;g<w;g++)d[g]=u[h+g],m[g]=c[h+g];m[m.length-1]=c[c.length-1];var b=new vn(this.comparator,this.options,this.ownerID,d,m);if(n[0]=r[0],n[1]=b,o)u.length=h,c.length=h+1,c[t]=e,a=u,s=c;else{a=bn(h),s=bn(h+1);for(var S=0;S<h;S++)a[S]=u[S],s[S]=c[S];s[t]=e}}else{for(var E=bn(u.length-h),k=bn(c.length-h),I=h+1,O=t-I,N=0,z=O;N<z;N++)E[N]=u[I+N],k[N]=c[I+N];E[O]=r[0],k[O]=e,k[1+O]=r[1];for(var M=1+O,D=E.length;M<D;M++)E[M]=u[h+M],k[M+1]=c[h+M+1];var x=new vn(this.comparator,this.options,this.ownerID,E,k);n[0]=u[h],n[1]=x,s=o?(u.length=h,c.length=h+1,a=u,c):(a=u.slice(0,h),c.slice(0,h+1))}return this.makeNewNode(a,s,i,o)},vn.prototype.splitLeaf=function(t,e,r,n,i){var o,a=this.entries,s=this.btreeNodeSplitSize;if(t<s){var u=a.slice(s,a.length),c=new vn(this.comparator,this.options,this.ownerID,u);if(r[0]=a[s-1],r[1]=c,i){for(var h=(a.length=s)-1;t+1<=h;h--)a[h]=a[h-1];a[t]=e,o=a}else{o=bn(s);for(var f=0;f<t;f++)o[f]=a[f];o[t]=e;for(var p=t+1;p<s;p++)o[p]=a[p-1]}}else if(t===s){var l=bn(a.length-s);l[0]=a[s];for(var v=1,_=l.length;v<_;v++)l[v]=a[s+v];var y=new vn(this.comparator,this.options,this.ownerID,l);if(r[0]=e,r[1]=y,i)a.length=s,o=a;else{o=bn(s);for(var d=0;d<s;d++)o[d]=a[d]}}else{for(var m=bn(a.length-s),g=s+1,w=t-g,b=0,S=w;b<S;b++)m[b]=a[g+b];m[w]=e;for(var E=1+w,k=m.length;E<k;E++)m[E]=a[s+E];var I=new vn(this.comparator,this.options,this.ownerID,m);r[0]=a[s],r[1]=I,o=i?(a.length=s,a):a.slice(0,s)}return this.makeNewNode(o,void 0,n,i)},vn.prototype.spliceNode=function(t,e,r,n,i,o,a,s){var u,c,h=this.entries,f=this.nodes,p=a[0],l=a[1],v=a[2];if(l===E){if(h.length<=this.btreeNodeSplitSize&&n)return v?this.consolidateNode(t,e,r,e-1,e-1,n,i,o,s):this.consolidateNode(t,e,r,e,e+1,n,i,o,s);u=v?(c=Dn(f,e,r,e-1,o),Nn(h,e-1,o)):(c=Dn(f,e,r,e+1,o),Nn(h,e,o))}else c=In(f,e,r,o),u=l?v?(c[e-1]=l,In(h,e-1,p,o)):(c[e+1]=l,In(h,e,p,o)):p?In(h,e,p,o):kn(h,o);return this.makeNewNode(u,c,t,o)},vn.prototype.consolidateNode=function(u,c,h,f,p,t,l,v,_){var e,r,n,i,y,d,m=this.entries,g=this.nodes,w=t.entries,o=t.nodes;if(0===l)r=e=i=o[l+1];else if(l===o.length-1)r=e=n=o[l-1];else{n=o[l-1],i=o[l+1];var a=(n.entries.length-this.btreeNodeSplitSize+1)/2;r=(i.entries.length-this.btreeNodeSplitSize+1)/2<=a?(e=n,i):(e=i,n)}function s(t,e,r){y=Mn(m,f,e,v),(d=Mn(g,p,e,v))[c<p?c+e:c+e-1]=h;var n,i=e-1;for(y[i]=w[l-1],d[i--]=t.nodes[t.nodes.length-1],n=t.entries.length-1;0<=i;i--,n--)y[i]=t.entries[n],d[i]=t.nodes[n];if(r)_[1]=E;else{_[0]=t.entries[n];var o=zn(t.entries,t.entries.length-e,e,v),a=zn(t.nodes,t.nodes.length-e,e,v);_[1]=t.makeNewNode(o,a,u,v)}_[2]=!0}function b(t,e,r){y=Nn(m,f,v),d=Nn(g,p,v);var n=y.length;y.length+=e,d.length+=e,d[c<p?c:c-1]=h,y[n++]=w[l],d[n]=t.nodes[0];for(var i=0,o=e-1;i<o;i++)y[n+i]=t.entries[i],d[n+i+1]=t.nodes[i+1];if(r)_[1]=E;else{_[0]=t.entries[e-1];var a=zn(t.entries,0,e,v),s=zn(t.nodes,0,e,v);_[1]=t.makeNewNode(a,s,u,v)}_[2]=!1}var S=Math.floor((e.entries.length-this.btreeNodeSplitSize+1)/2);return 0<S?e===n?s(e,S):b(e,S):r===n?s(r,r.entries.length+1,!0):b(r,r.entries.length+1,!0),this.makeNewNode(y,d,u,v)},vn.prototype.consolidateLeaf=function(s,u,t,e,c,h){var r,n,i,f,p=this.entries,o=t.entries,a=t.nodes;if(0===e)r=i=a[e+1];else if(e===a.length-1)r=n=a[e-1];else{n=a[e-1],i=a[e+1];var l=n.entries.length-this.btreeNodeSplitSize;r=i.entries.length-this.btreeNodeSplitSize<=l?n:i}function v(t,e,r){f=Mn(p,u,e,c);var n=e;d||(f[e-1]=y,n--);for(var i=0;i<n;i++)f[i]=t.entries[t.entries.length-n+i];if(r)h[1]=E;else{n++,h[0]=t.entries[t.entries.length-n];var o=zn(t.entries,t.entries.length-n,n,c);h[1]=t.makeNewNode(o,void 0,s,c)}h[2]=!0}function _(t,e,r){var n=(f=Nn(p,u,c)).length;f.length+=e;var i=e;d||(f[n++]=y,i--);for(var o=0;o<i;o++)f[n+o]=t.entries[o];if(r)h[1]=E;else{h[0]=t.entries[i++];var a=zn(t.entries,0,i,c);h[1]=t.makeNewNode(a,void 0,s,c)}h[2]=!1}var y=r===n?o[e-1]:o[e],d=y[1]===E,m=d?1:0,g=r.entries.length-this.btreeNodeSplitSize-m;if(0<g){var w=Math.floor((1+g)/2);r===n?v(r,w):_(r,w)}else{var b=r.entries.length+1-m;r===n?v(r,b,!0):_(r,b,!0)}return this.makeNewNode(f,void 0,s,c)};var An,Rn=((An=fn)&&(jn.__proto__=An),((jn.prototype=Object.create(An&&An.prototype)).constructor=jn).prototype.calcPlanCnt=function(t,e){if(e<1||20<e)throw new Error("Height is out of supported limit");for(var r=t-1,n=1;n<e;n++)r=r*t+(t-1);return r},jn.prototype.prepareCachedPlan=function(t,e){var r=t.toString()+" "+e.toString(),n=jn.cache[r];if(n)return n;var i=this.preparePlan(t,e);return this.verifyPlan(i),t<100&&e<=100&&t<=e&&jn.cacheSize<500&&(jn.cache[r]=i,jn.cacheSize++),i},jn.prototype.preparePlan=function(t,e){for(var r,n=t-1,i=1,o=n;o<e;)o=(r=o)*t+n,i++;if(o===e)return{op:"build",full:!0,height:i,order:t,repeat:1,total:e};if(1===i)return{op:"build",full:!1,height:i,order:t,repeat:1,total:e};var a=r,s=1+Math.floor(e/(a+1));if(s<2)throw new Error("Something is wrong, the rootOrder is expected to be >= 2");if(s*a+(s-1)===e){var u=[],c=s*a+s-1;return u.push({op:"build",full:!0,height:i-1,order:t,repeat:s,total:c}),{op:"assemble",height:i,order:t,total:c,items:u}}var h=[];if(2<s){var f=s-2,p=f*a+f-1,l={op:"build",full:!0,height:i-1,order:t,repeat:f,total:p};h.push(l),e-=p,e--}e--;var v=Math.floor(e/2);0<e-v&&h.push(this.prepareCachedPlan(t,e-v)),0<v&&h.push(this.prepareCachedPlan(t,v));for(var _=0,y=h.length,d=0;d<y;d++)_+=h[d].total;return{op:"assemble",height:i,order:t,total:_+=h.length-1,items:h}},jn.prototype.verifyPlan=function(t,e){function r(t){throw new Error(t)}if(void 0===e&&(e=0),"assemble"===t.op){for(var n=0,i=t.items.length,o=0;o<i;o++){var a=t.items[o];n+=a.total,"build"===a.op&&(a.order>=a.repeat||r("Plan verification test failed: pl.order >= pl.repeat: "+JSON.stringify(a))),t.height!==a.height+1&&r("Plan verification test failed: plan.height === pl.height+1"),this.verifyPlan(a,e+1)}n+=t.items.length-1,t.total!==n&&r("Count mismatch: "+t.total+" vs "+n)}else if("build"===t.op){var s=this.calcPlanCnt(t.order,t.height);if(t.full){var u=s*t.repeat+t.repeat-1;t.total!==u&&r("Plan verification test failed: plan.total === ec")}else{1!==t.height&&r("Plan verification test failed: expected height 1, got instead "+t.height),t.total<s||r("Plan verification test failed: plan.total < ec");var c=Math.floor((t.order-1)/2);0<e&&!(t.total>=c)&&r("Plan verification test failed: plan.total >= halfSize: "+t.total+", "+c)}}else r("Plan verification test failed: invalid op: "+t.op)},jn.prototype.runPlan=function(t,e){if("assemble"===t.op)for(var r=t.items.length,n=0;n<r;n++)0<n&&this.populate(e,1),this.runPlan(t.items[n],e);else if("build"===t.op)for(var i=(t.total-t.repeat+1)/t.repeat,o=0;o<t.repeat;o++)0<o&&this.populate(e,1),this.populate(e,i);else!function(t){throw t="Packing Plan is corrupt: "+t,new Error(t)}("invalid op: "+t.op);this.flush(t.height)},jn.prototype.flushLevel=function(t){this.prepareLevel(t+1);var e=this.stack[t];e._calcSize(),this.addNode(t+1,e),this.stack[t]=void 0},jn.prototype.flush=function(t){for(var e=0;e<t;e++){var r=e;this.stack[r]&&this.flushLevel(r)}this.stackLevel=t},jn.prototype.populate=function(t,e){for(var r=this,n=0;n<e;n++){var i=t.next();if(r.entriesCnt++,i.done)throw new Error("unexpected end of iterator at "+r.entriesCnt+" vs "+t.size);var o=i.value,a=r.stackLevel;r.prepareLevel(a),r.addEntry(a,o),0<a?r.stackLevel=0:r.stackIndices[a]===r.order-1&&(r.flushLevel(a),r.stackLevel++)}},jn.prototype.addEntry=function(t,e){this.stack[t].entries[this.stackIndices[t]++]=e},jn.prototype.addNode=function(t,e){this.stack[t].nodes[this.stackIndices[t]]=e,this.stackIndices[t]===this.order-1&&(this.flushLevel(t),this.stackLevel++)},jn.prototype.prepareLevel=function(t){if(!this.stack[t]){var e,r=bn(this.order-1);(r.length=0)<t&&((e=bn(this.order)).length=0),this.stack[t]=new vn(this.comparator,this.options,this.ownerID,r,e),this.stackIndices[t]=0}},jn.prototype.finish=function(){var t=this.stackLevel;if(!(t>=this.stack.length))return this.stack[t].nodes[0]},jn.prototype.pack=function(t,e,r,n){if(e&&e.type&&"btree"!==e.type)throw new Error("Unsuported type by btree factory: "+e.type);this.order=e&&e.btreeOrder?e.btreeOrder:33;var i=O(n);xe(i.size);var o=this.preparePlan(this.order,i.size);this.comparator=t,this.options=e,this.ownerID=r,this.stack=[],this.stackIndices=[],this.stackLevel=0,this.entriesCnt=0;var a=i.entries();if(this.runPlan(o,a),!a.next().done)throw new Error("iterator did not end when expected");return this.finish()},jn);function jn(){An.apply(this,arguments)}Rn.cache={},Rn.cacheSize=0;var qn,Cn=((qn=pn)&&(Bn.__proto__=qn),((Bn.prototype=Object.create(qn&&qn.prototype)).constructor=Bn).prototype.createNode=function(t,e,r,n,i){return new vn(t,e,r,n,i)},Bn.prototype.createPacker=function(){return new Rn},Bn.prototype.createIterator=function(t,e,r){return new dn(t,e,r)},Bn);function Bn(){qn.apply(this,arguments)}var Tn,Fn=((Tn=lr)&&(Pn.__proto__=Tn),((Pn.prototype=Object.create(Tn&&Tn.prototype)).constructor=Pn).of=function(){for(var r=[],t=arguments.length;t--;)r[t]=arguments[t];return Kn().withMutations(function(t){for(var e=0;e<r.length;e+=2){if(e+1>=r.length)throw new Error("Missing value for key: "+r[e]);t.set(r[e],r[e+1])}})},Pn.prototype.toString=function(){return this.__toString("SortedMap {","}")},Pn.prototype.getComparator=function(){return this._comparator},Pn.prototype.getOptions=function(){return this._options},Pn.prototype.get=function(t,e){return this._root?this._root.get(t,e):e},Pn.prototype.entryAt=function(t){return this._root?this._root.entryAt(t):new Error("index is out of bounds")},Pn.prototype.keyAt=function(t){return this._root?this._root.keyAt(t):new Error("index is out of bounds")},Pn.prototype.valueAt=function(t){return this._root?this._root.valueAt(t):new Error("index is out of bounds")},Pn.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__altered=!0,this):Kn(this._comparator,this._options)},Pn.prototype.pack=function(t){var e,r=this;if(void 0===t)e=this;else{var n=0,i=O(t).map(function(t,e){return[e,t,n++]}).valueSeq().toArray();if(0===i.length)return this.__ownerID?(this._root=void 0,this.size=0,this.__altered=!0,this):Kn(this._comparator,this._options);i.sort(function(t,e){return r._comparator(t[0],e[0])||t[2]-e[2]});for(var o=[],a=0,s=i.length-1;a<s;a++){var u=i[a],c=i[a+1];if(r._comparator(u[0],c[0])<0){var h=[u[0],u[1]];o.push(h)}}var f=i[i.length-1],p=[f[0],f[1]];o.push(p),e=at(o)}xe(e.size);var l=e.size,v=this._factory.createPacker().pack(this._comparator,this._options,this.__ownerID,e);return this.__ownerID?(this._root=v,this.size=l,this.__altered=!0,this):v?Vn(this._comparator,this._options,l,v):Kn(this._comparator,this._options)},Pn.prototype.set=function(t,e){return Xn(this,t,e)},Pn.prototype.remove=function(t){return Xn(this,t,E)},Pn.prototype.fastRemove=function(t){return Xn(this,t,E,!0)},Pn.prototype.sort=function(t){return Pn(this,t,this.getOptions())},Pn.prototype.sortBy=function(t,e){return Pn(de(this,e,t),e,this.getOptions())},Pn.prototype.__iterator=function(t,e){return this._factory.createIterator(this,t,e)},Pn.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Vn(this._comparator,this._options,this.size,this._root,t):0===this.size?Kn(this._comparator,this._options):(this.__ownerID=t,this.__altered=!1,this)},Pn.prototype.checkConsistency=function(t){var e=this;if(this._root)return 0<this.size?this._root.checkConsistency(t):1;if(0!==this.size)return 2;var r,n=0;return this.keySeq().forEach(function(t){if(n&&!(e._comparator(r,t)<0))return 3;r=t,n++}),this.size!==n?4:0},Pn.prototype.print=function(t){var e="SORTED MAP: size="+this.size;return this._options&&(e=e+", options="+JSON.stringify(this._options)),console.log(e),this._root&&this._root.print(1,t),this},Pn.prototype.from=function(i,o){var a=this,t=Object.create(at).prototype;return t.__iterateUncached=function(e,t){var r=this;if(!a._root)return 0;var n=0;return o?a._root.iterateFromBackwards(i,function(t){return n++,e(t[1],t[0],r)},t):a._root.iterateFrom(i,function(t){return n++,e(t[1],t[0],r)},t),n},t},Pn.prototype.fromIndex=function(i,o){var a=this,t=Object.create(at).prototype;return t.__iterateUncached=function(e,t){var r=this;if(t)throw new Error("fromIndex: reverse mode not supported");if(!a._root)return 0;var n=0;return o?a._root.iterateFromIndexBackwards(i,function(t){return n++,e(t[1],t[0],r)},t):a._root.iterateFromIndex(i,function(t){return n++,e(t[1],t[0],r)},t),n},t},Pn);function Pn(e,t,r){return t||(this instanceof Pn&&(t=this.getComparator()),t=t||Pn.defaultComparator),r||(this instanceof Pn&&(r=this.getOptions()),r=r||Pn.defaultOptions),null==e?Kn(t,r):cn(e)&&e.getComparator()===t&&e.getOptions()===r?e:Kn(t,r).withMutations(function(t){t.pack(e)})}Fn.isSortedMap=cn,Fn.defaultComparator=function(t,e){if(At(t,e))return 0;var r=typeof t,n=typeof e;if(r!=n)return r<n?-1:1;switch(r){case"undefined":break;case"object":if(null===t)return 1;if(null===e)return-1;t=t.toString(),e=e.toString();break;case"boolean":break;case"number":if(At(t,NaN))return 1;if(At(e,NaN))return-1;break;case"string":break;case"symbol":case"function":t=t.toString(),e=e.toString()}return t<e?-1:e<t?1:0},Fn.defaultOptions={type:"btree"};var Un,Ln=Fn.prototype;function Vn(t,e,r,n,i){var o=Object.create(Ln);if(o._comparator=t||Fn.defaultComparator,o._options=e||Fn.defaultOptions,o.size=r,o._root=n,o._factory=Fn.getFactory(o._options),o.__ownerID=i,o.__altered=!1,o._options.btreeOrder&&o._options.btreeOrder<3)throw new Error("SortedMap: minimum value of options.btreeOrder is 3, but got: "+o._options.btreeOrder);if(!o._factory)throw new Error("SortedMap type not supported: "+o._options.type);return o}function Kn(t,e){return t===Fn.defaultComparator&&e===Fn.defaultOptions?Un=Un||Vn(Fn.defaultComparator,Fn.defaultOptions,0):Vn(t,e,0)}function Xn(t,e,r,n){var i,o,a=r===E;if(t._root){var s={value:!1},u={value:!1};if(i=a?n?t._root.fastRemove(t.__ownerID,e,s,u):t._root.remove(t.__ownerID,e,s,u):t._root.upsert(t.__ownerID,e,r,s,u),!k(u))return t;0===(o=t.size+(k(s)?a?-1:1:0))&&(i=void 0)}else{if(a)return t;o=1;var c=[[e,r]];i=t._factory.createNode(t._comparator,t._options,t.__ownerID,c)}return t.__ownerID?(t.size=o,t._root=i,t.__altered=!0,t):i?Vn(t._comparator,t._options,o,i):Kn(t._comparator,t._options)}Ln[Rt]=!0,Ln[e]=Ln.remove,Ln.removeIn=Ln.deleteIn,Ln.removeAll=Ln.deleteAll,Fn.getFactory=function(t){var e=t&&t.type?t.type:Fn.defaultOptions.type;return Fn.factories[e]},Fn.factories={btree:new Cn};var Jn="@@__IMMUTABLE_STACK__@@";function Hn(t){return Boolean(t&&t[Jn])}var Wn,Gn=((Wn=M)&&(Yn.__proto__=Wn),((Yn.prototype=Object.create(Wn&&Wn.prototype)).constructor=Yn).of=function(){return this(arguments)},Yn.prototype.toString=function(){return this.__toString("Stack [","]")},Yn.prototype.get=function(t,e){var r=this._head;for(t=a(this,t);r&&t--;)r=r.next;return r?r.value:e},Yn.prototype.peek=function(){return this._head&&this._head.value},Yn.prototype.push=function(){var t=arguments;if(0===arguments.length)return this;for(var e=this.size+arguments.length,r=this._head,n=arguments.length-1;0<=n;n--)r={value:t[n],next:r};return this.__ownerID?(this.size=e,this._head=r,this.__hash=void 0,this.__altered=!0,this):Zn(e,r)},Yn.prototype.pushAll=function(t){if(0===(t=Wn(t)).size)return this;if(0===this.size&&Hn(t))return t;xe(t.size);var e=this.size,r=this._head;return t.__iterate(function(t){e++,r={value:t,next:r}},!0),this.__ownerID?(this.size=e,this._head=r,this.__hash=void 0,this.__altered=!0,this):Zn(e,r)},Yn.prototype.pop=function(){return this.slice(1)},Yn.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):ti()},Yn.prototype.slice=function(t,e){if(f(t,e,this.size))return this;var r=p(t,this.size);if(l(e,this.size)!==this.size)return Wn.prototype.slice.call(this,t,e);for(var n=this.size-r,i=this._head;r--;)i=i.next;return this.__ownerID?(this.size=n,this._head=i,this.__hash=void 0,this.__altered=!0,this):Zn(n,i)},Yn.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Zn(this.size,this._head,t,this.__hash):0===this.size?ti():(this.__ownerID=t,this.__altered=!1,this)},Yn.prototype.__iterate=function(r,t){var n=this;if(t)return new _t(this.toArray()).__iterate(function(t,e){return r(t,e,n)},t);for(var e=0,i=this._head;i&&!1!==r(i.value,e++,n);)i=i.next;return e},Yn.prototype.__iterator=function(e,t){if(t)return new _t(this.toArray()).__iterator(e,t);var r=0,n=this._head;return new H(function(){if(n){var t=n.value;return n=n.next,W(e,r++,t)}return{value:void 0,done:!0}})},Yn);function Yn(t){return null==t?ti():Hn(t)?t:ti().pushAll(t)}Gn.isStack=Hn;var $n,Qn=Gn.prototype;function Zn(t,e,r,n){var i=Object.create(Qn);return i.size=t,i._head=e,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}function ti(){return $n=$n||Zn(0)}Qn[Jn]=!0,Qn.shift=Qn.pop,Qn.unshift=Qn.push,Qn.unshiftAll=Qn.pushAll,Qn.withMutations=ur,Qn.wasAltered=fr,Qn.asImmutable=hr,Qn["@@transducer/init"]=Qn.asMutable=cr,Qn["@@transducer/step"]=function(t,e){return t.unshift(e)},Qn["@@transducer/result"]=function(t){return t.asImmutable()};var ei="@@__IMMUTABLE_SET__@@";function ri(t){return Boolean(t&&t[ei])}function ni(t){return ri(t)&&P(t)}function ii(r,t){if(r===t)return!0;if(!h(t)||void 0!==r.size&&void 0!==t.size&&r.size!==t.size||void 0!==r.__hash&&void 0!==t.__hash&&r.__hash!==t.__hash||u(r)!==u(t)||_(r)!==_(t)||P(r)!==P(t)||jt(r)!==jt(t))return!1;if(0===r.size&&0===t.size)return!0;var n=!y(r);if(P(r)){var i=r.entries();return t.every(function(t,e){var r=i.next().value;return r&&At(r[1],t)&&(n||At(r[0],e))})&&i.next().done}var o=!1;if(void 0===r.size)if(void 0===t.size)"function"==typeof r.cacheResult&&r.cacheResult();else{o=!0;var e=r;r=t,t=e}var a=!0,s=t.__iterate(function(t,e){if(n?!r.has(t):o?!At(t,r.get(e,E)):!At(r.get(e,E),t))return a=!1});return a&&r.size===s}function oi(e,r){function t(t){e.prototype[t]=r[t]}return Object.keys(r).forEach(t),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(r).forEach(t),e}function ai(t){if(!t||"object"!=typeof t)return t;if(!h(t)){if(!je(t))return t;t=nt(t)}if(u(t)){var r={};return t.__iterate(function(t,e){r[e]=ai(t)}),r}var e=[];return t.__iterate(function(t){e.push(ai(t))}),e}function si(t){return ri(t)&&jt(t)}var ui,ci=((ui=A)&&(hi.__proto__=ui),((hi.prototype=Object.create(ui&&ui.prototype)).constructor=hi).of=function(){return this(arguments)},hi.fromKeys=function(t){return this(O(t).keySeq())},hi.intersect=function(t){return(t=d(t).toArray()).length?pi.intersect.apply(hi(t.pop()),t):_i()},hi.union=function(t){return(t=d(t).toArray()).length?pi.union.apply(hi(t.pop()),t):_i()},hi.prototype.toString=function(){return this.__toString("Set {","}")},hi.prototype.has=function(t){return this._map.has(t)},hi.prototype.add=function(t){return li(this,this._map.set(t,t))},hi.prototype.remove=function(t){return li(this,this._map.remove(t))},hi.prototype.clear=function(){return li(this,this._map.clear())},hi.prototype.map=function(r,n){var i=this,o=[],a=[];return this.forEach(function(t){var e=r.call(n,t,t,i);e!==t&&(o.push(t),a.push(e))}),this.withMutations(function(e){o.forEach(function(t){return e.remove(t)}),a.forEach(function(t){return e.add(t)})})},hi.prototype.union=function(){for(var r=[],t=arguments.length;t--;)r[t]=arguments[t];return 0===(r=r.filter(function(t){return 0!==t.size})).length?this:0!==this.size||this.__ownerID||1!==r.length?this.withMutations(function(e){for(var t=0;t<r.length;t++)ui(r[t]).forEach(function(t){return e.add(t)})}):this.constructor(r[0])},hi.prototype.intersect=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(0===t.length)return this;t=t.map(function(t){return ui(t)});var r=[];return this.forEach(function(e){t.every(function(t){return t.includes(e)})||r.push(e)}),this.withMutations(function(e){r.forEach(function(t){e.remove(t)})})},hi.prototype.subtract=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(0===t.length)return this;t=t.map(function(t){return ui(t)});var r=[];return this.forEach(function(e){t.some(function(t){return t.includes(e)})&&r.push(e)}),this.withMutations(function(e){r.forEach(function(t){e.remove(t)})})},hi.prototype.sort=function(t){return Li(de(this,t))},hi.prototype.sortBy=function(t,e){return Li(de(this,e,t))},hi.prototype.wasAltered=function(){return this._map.wasAltered()},hi.prototype.__iterate=function(e,t){var r=this;return this._map.__iterate(function(t){return e(t,t,r)},t)},hi.prototype.__iterator=function(t,e){return this._map.__iterator(t,e)},hi.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t);return t?this.__make(e,t):0===this.size?this.__empty():(this.__ownerID=t,this._map=e,this)},hi);function hi(r){return null==r?_i():!ri(r)||P(r)||jt(r)?_i().withMutations(function(e){var t=ui(r);xe(t.size),t.forEach(function(t){return e.add(t)})}):r}ci.isSet=ri;var fi,pi=ci.prototype;function li(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:0===e.size?t.__empty():t.__make(e)}function vi(t,e){var r=Object.create(pi);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}function _i(){return fi=fi||vi(zr())}pi[ei]=!0,pi[e]=pi.remove,pi.merge=pi.concat=pi.union,pi.withMutations=ur,pi.asImmutable=hr,pi["@@transducer/init"]=pi.asMutable=cr,pi["@@transducer/step"]=function(t,e){return t.add(e)},pi["@@transducer/result"]=function(t){return t.asImmutable()},pi.__empty=_i,pi.__make=vi;var yi,di=((yi=ci)&&(mi.__proto__=yi),((mi.prototype=Object.create(yi&&yi.prototype)).constructor=mi).of=function(){return this(arguments)},mi.fromKeys=function(t){return this(O(t).keySeq())},mi.prototype.toString=function(){return this.__toString("SortedSet {","}")},mi.prototype.getComparator=function(){return this._map.getComparator()},mi.prototype.getOptions=function(){return this._map.getOptions()},mi.prototype.pack=function(t){var e=void 0===t?void 0:A(t).toKeyedSeq().mapKeys(function(t,e){return e});return function(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:0===e.size?t.__empty():t.__make(e)}(this,this._map.pack(e))},mi.prototype.from=function(t,e){return this._map.from(t,e).toSetSeq()},mi.prototype.fromIndex=function(t,e){return this._map.fromIndex(t,e).toSetSeq()},mi.prototype.sort=function(t){return mi(this,t,this.getOptions())},mi.prototype.sortBy=function(t,e){return mi(fe(this,t),e,this.getOptions())},mi.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t);return t?this.__make(e,t):0===this.size?this.__empty():(this.__ownerID=t,this._map=e,this)},mi);function mi(e,t,r){return t||(this instanceof mi&&(t=this._map&&this.getComparator()),t=t||mi.defaultComparator),r||(this instanceof mi&&(r=this._map&&this.getOptions()),r=r||mi.defaultOptions),null==e?bi(t,r):si(e)&&e.getComparator()===t&&e.getOptions()===r?e:bi(t,r).withMutations(function(t){t.pack(e)})}di.isSortedSet=si,di.defaultComparator=Fn.defaultComparator,di.defaultOptions=Fn.defaultOptions;var gi=di.prototype;function wi(t,e){var r=Object.create(gi);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}function bi(t,e){return wi(Kn(t,e))}gi[Rt]=!0,gi.__empty=function(){return bi(this.getComparator(),this.getOptions())},gi.__make=wi;var Si,Ei,ki=((Si=ct)&&(Ii.__proto__=Si),((Ii.prototype=Object.create(Si&&Si.prototype)).constructor=Ii).prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},Ii.prototype.get=function(t,e){return this.has(t)?this._start+a(this,t)*this._step:e},Ii.prototype.includes=function(t){var e=(t-this._start)/this._step;return 0<=e&&e<this.size&&e===Math.floor(e)},Ii.prototype.slice=function(t,e){return f(t,e,this.size)?this:(t=p(t,this.size),(e=l(e,this.size))<=t?new Ii(0,0):new Ii(this.get(t,this._end),this.get(e,this._end),this._step))},Ii.prototype.indexOf=function(t){var e=t-this._start;if(e%this._step==0){var r=e/this._step;if(0<=r&&r<this.size)return r}return-1},Ii.prototype.lastIndexOf=function(t){return this.indexOf(t)},Ii.prototype.__iterate=function(t,e){for(var r=this.size,n=this._step,i=e?this._start+(r-1)*n:this._start,o=0;o!==r&&!1!==t(i,e?r-++o:o++,this);)i+=e?-n:n;return o},Ii.prototype.__iterator=function(e,r){var n=this.size,i=this._step,o=r?this._start+(n-1)*i:this._start,a=0;return new H(function(){if(a===n)return{value:void 0,done:!0};var t=o;return o+=r?-i:i,W(e,r?n-++a:a++,t)})},Ii.prototype.equals=function(t){return t instanceof Ii?this._start===t._start&&this._end===t._end&&this._step===t._step:ii(this,t)},Ii);function Ii(t,e,r){if(!(this instanceof Ii))return new Ii(t,e,r);if(De(0!==r,"Cannot step a Range by 0"),t=t||0,void 0===e&&(e=1/0),r=void 0===r?1:Math.abs(r),e<t&&(r=-r),this._start=t,this._end=e,this._step=r,this.size=Math.max(0,Math.ceil((e-t)/r-1)+1),0===this.size){if(Ei)return Ei;Ei=this}}function Oi(t,e,r){for(var n=Ae(e),i=0;i!==n.length;)if((t=Be(t,n[i++],E))===E)return r;return t}function Ni(t,e){return Oi(this,t,e)}function zi(t,e){return Oi(t,e,E)!==E}function Mi(){xe(this.size);var r={};return this.__iterate(function(t,e){r[e]=t}),r}d.isIterable=h,d.isKeyed=u,d.isIndexed=_,d.isAssociative=y,d.isOrdered=P,d.Iterator=H,oi(d,{toArray:function(){xe(this.size);var r=new Array(this.size||0),n=u(this),i=0;return this.__iterate(function(t,e){r[i++]=n?[e,t]:t}),r},toIndexedSeq:function(){return new re(this)},toJS:function(){return ai(this)},toKeyedSeq:function(){return new Zt(this,!0)},toMap:function(){return lr(this.toKeyedSeq())},toObject:Mi,toOrderedMap:function(){return nn(this.toKeyedSeq())},toSortedMap:function(t,e){return Fn(this.toKeyedSeq(),t,e)},toSortedSet:function(t,e){return di(u(this)?this.valueSeq():this,t,e)},toOrderedSet:function(){return Li(u(this)?this.valueSeq():this)},toSet:function(){return ci(u(this)?this.valueSeq():this)},toSetSeq:function(){return new oe(this)},toSeq:function(){return _(this)?this.toIndexedSeq():u(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Gn(u(this)?this.valueSeq():this)},toList:function(){return Ur(u(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(t,e){return 0===this.size?t+e:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+e},concat:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return Ee(this,function(t,e){var r=u(t),n=[t].concat(e).map(function(t){return h(t)?r&&(t=O(t)):t=r?It(t):Ot(Array.isArray(t)?t:[t]),t}).filter(function(t){return 0!==t.size});if(0===n.length)return t;if(1===n.length){var i=n[0];if(i===t||r&&u(i)||_(t)&&_(i))return i}var o=new _t(n);return r?o=o.toKeyedSeq():_(t)||(o=o.toSetSeq()),(o=o.flatten(!0)).size=n.reduce(function(t,e){if(void 0!==t){var r=e.size;if(void 0!==r)return t+r}},0),o}(this,t))},includes:function(e){return this.some(function(t){return At(t,e)})},entries:function(){return this.__iterator(V)},every:function(n,i){xe(this.size);var o=!0;return this.__iterate(function(t,e,r){if(!n.call(i,t,e,r))return o=!1}),o},filter:function(t,e){return Ee(this,le(this,t,e,!0))},find:function(t,e,r){var n=this.findEntry(t,e);return n?n[1]:r},forEach:function(t,e){return xe(this.size),this.__iterate(e?t.bind(e):t)},join:function(e){xe(this.size),e=void 0!==e?""+e:",";var r="",n=!0;return this.__iterate(function(t){n?n=!1:r+=e,r+=null!=t?t.toString():""}),r},keys:function(){return this.__iterator(U)},map:function(t,e){return Ee(this,fe(this,t,e))},reduce:function(t,e,r){return Ri(this,t,e,r,arguments.length<2,!1)},reduceRight:function(t,e,r){return Ri(this,t,e,r,arguments.length<2,!0)},reverse:function(){return Ee(this,pe(this,!0))},slice:function(t,e){return Ee(this,ve(this,t,e,!0))},some:function(t,e){return!this.every(Ci(t),e)},sort:function(t){return Ee(this,de(this,t))},partialSort:function(t,e){return Ee(this,me(this,t,e))},incSort:function(t){return Ee(this,ge(this,t,null,!0))},values:function(){return this.__iterator(L)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(t,e){return c(t?this.toSeq().filter(t,e):this)},countBy:function(t,e){return function(r,n,i){var o=lr().asMutable();return r.__iterate(function(t,e){o.update(n.call(i,t,e,r),0,function(t){return t+1})}),o.asImmutable()}(this,t,e)},equals:function(t){return ii(this,t)},entrySeq:function(){var t=this;if(t._cache)return new _t(t._cache);var e=t.toSeq().map(qi).toIndexedSeq();return e.fromEntrySeq=function(){return t.toSeq()},e},filterNot:function(t,e){return this.filter(Ci(t),e)},findEntry:function(n,i,t){var o=t;return this.__iterate(function(t,e,r){if(n.call(i,t,e,r))return!(o=[e,t])}),o},findKey:function(t,e){var r=this.findEntry(t,e);return r&&r[0]},findLast:function(t,e,r){return this.toKeyedSeq().reverse().find(t,e,r)},findLastEntry:function(t,e,r){return this.toKeyedSeq().reverse().findEntry(t,e,r)},findLastKey:function(t,e){return this.toKeyedSeq().reverse().findKey(t,e)},first:function(t){return this.find(r,null,t)},flatMap:function(t,e){return Ee(this,function(r,n,i){var o=Ie(r);return r.toSeq().map(function(t,e){return o(n.call(i,t,e,r))}).flatten(!0)}(this,t,e))},flatten:function(t){return Ee(this,ye(this,t,!0))},fromEntrySeq:function(){return new ue(this)},get:function(r,t){return this.find(function(t,e){return At(e,r)},void 0,t)},getIn:Ni,groupBy:function(t,e){return function(n,t,i){var o=u(n),a=(P(n)?nn():lr()).asMutable();n.__iterate(function(e,r){a.update(t.call(i,e,r,n),function(t){return(t=t||[]).push(o?[r,e]:e),t})});var e=Ie(n);return a.map(function(t){return Ee(n,e(t))}).asImmutable()}(this,t,e)},has:function(t){return this.get(t,E)!==E},hasIn:function(t){return zi(this,t)},isSubset:function(e){return e="function"==typeof e.includes?e:d(e),this.every(function(t){return e.includes(t)})},isSuperset:function(t){return(t="function"==typeof t.isSubset?t:d(t)).isSubset(this)},keyOf:function(e){return this.findKey(function(t){return At(t,e)})},keySeq:function(){return this.toSeq().map(ji).toIndexedSeq()},last:function(t){return this.toSeq().reverse().first(t)},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return we(this,t)},maxBy:function(t,e){return we(this,e,t)},min:function(t){return we(this,t?Bi(t):Fi)},minBy:function(t,e){return we(this,e?Bi(e):Fi,t)},rest:function(){return this.slice(1)},skip:function(t){return 0===t?this:this.slice(Math.max(0,t))},skipLast:function(t){return 0===t?this:this.slice(0,-Math.max(0,t))},skipWhile:function(t,e){return Ee(this,_e(this,t,e,!0))},skipUntil:function(t,e){return this.skipWhile(Ci(t),e)},sortBy:function(t,e){return Ee(this,de(this,e,t))},partialSortBy:function(t,e,r){return Ee(this,me(this,t,r,e))},incSortBy:function(t,e){return Ee(this,ge(this,e,t,!0))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return this.slice(-Math.max(0,t))},takeWhile:function(t,e){return Ee(this,function(e,u,c){var t=Oe(e);return t.__iterateUncached=function(n,t){var i=this;if(t)return this.cacheResult().__iterate(n,t);var o=0;return e.__iterate(function(t,e,r){return u.call(c,t,e,r)&&++o&&n(t,e,i)}),o},t.__iteratorUncached=function(i,t){var o=this;if(t)return this.cacheResult().__iterator(i,t);var a=e.__iterator(V,t),s=!0;return new H(function(){if(!s)return{value:void 0,done:!0};var t=a.next();if(t.done)return t;var e=t.value,r=e[0],n=e[1];return u.call(c,n,r,o)?i===V?t:W(i,r,n,t):{value:void 0,done:!(s=!1)}})},t}(this,t,e))},takeUntil:function(t,e){return this.takeWhile(Ci(t),e)},update:function(t){return t(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(t){if(t.size===1/0)return 0;var e=P(t),r=u(t),n=e?1:0;return function(t,e){return e=qt(e,3432918353),e=qt(e<<15|e>>>-15,461845907),e=qt(e<<13|e>>>-13,5),e=qt((e=(e+3864292196|0)^t)^e>>>16,2246822507),e=Ct((e=qt(e^e>>>13,3266489909))^e>>>16)}(t.__iterate(r?e?function(t,e){n=31*n+Pi(Tt(t),Tt(e))|0}:function(t,e){n=n+Pi(Tt(t),Tt(e))|0}:e?function(t){n=31*n+Tt(t)|0}:function(t){n=n+Tt(t)|0}),n)}(this))}});var Di=d.prototype;Di[o]=!0,Di[J]=Di.values,Di.toJSON=Di.toArray,Di.__toStringMapper=qe,Di.inspect=Di.toSource=function(){return this.toString()},Di.chain=Di.flatMap,Di.contains=Di.includes,oi(O,{flip:function(){return Ee(this,he(this))},mapEntries:function(r,n){var i=this,o=0;return Ee(this,this.toSeq().map(function(t,e){return r.call(n,[e,t],o++,i)}).fromEntrySeq())},mapKeys:function(r,n){var i=this;return Ee(this,this.toSeq().flip().map(function(t,e){return r.call(n,t,e,i)}).flip())}});var xi=O.prototype;xi[s]=!0,xi[J]=Di.entries,xi.toJSON=Mi,xi.__toStringMapper=function(t,e){return qe(e)+": "+qe(t)},oi(M,{toKeyedSeq:function(){return new Zt(this,!1)},filter:function(t,e){return Ee(this,le(this,t,e,!1))},findIndex:function(t,e){var r=this.findEntry(t,e);return r?r[0]:-1},indexOf:function(t){var e=this.keyOf(t);return void 0===e?-1:e},lastIndexOf:function(t){var e=this.lastKeyOf(t);return void 0===e?-1:e},reverse:function(){return Ee(this,pe(this,!1))},slice:function(t,e){return Ee(this,ve(this,t,e,!1))},splice:function(t,e){var r=arguments.length;if(e=Math.max(e||0,0),0===r||2===r&&!e)return this;t=p(t,t<0?this.count():this.size);var n=this.slice(0,t);return Ee(this,1===r?n:n.concat(Me(arguments,2),this.slice(t+e)))},findLastIndex:function(t,e){var r=this.findLastEntry(t,e);return r?r[0]:-1},first:function(t){return this.get(0,t)},flatten:function(t){return Ee(this,ye(this,t,!1))},get:function(r,t){return(r=a(this,r))<0||this.size===1/0||void 0!==this.size&&r>this.size?t:this.find(function(t,e){return e===r},void 0,t)},has:function(t){return 0<=(t=a(this,t))&&(void 0!==this.size?this.size===1/0||t<this.size:-1!==this.indexOf(t))},interpose:function(t){return Ee(this,function(o,a){var t=Oe(o);return t.size=o.size&&2*o.size-1,t.__iterateUncached=function(e,t){var r=this,n=0;return o.__iterate(function(t){return(!n||!1!==e(a,n++,r))&&!1!==e(t,n++,r)},t),n},t.__iteratorUncached=function(t,e){var r,n=o.__iterator(L,e),i=0;return new H(function(){return(!r||i%2)&&(r=n.next()).done?r:i%2?W(t,i++,a):W(t,i++,r.value,r)})},t}(this,t))},interleave:function(){var t=[this].concat(Me(arguments)),e=Se(this.toSeq(),ct.of,t),r=e.flatten(!0);return e.size&&(r.size=e.size*t.length),Ee(this,r)},keySeq:function(){return ki(0,this.size)},last:function(t){return this.get(-1,t)},skipWhile:function(t,e){return Ee(this,_e(this,t,e,!1))},incSort:function(t){return Ee(this,ge(this,t,null,!1))},incSortBy:function(t,e){return Ee(this,ge(this,e,t,!1))},zip:function(){var t=[this].concat(Me(arguments));return Ee(this,Se(this,Ti,t))},zipAll:function(){var t=[this].concat(Me(arguments));return Ee(this,Se(this,Ti,t,!0))},zipWith:function(t){var e=Me(arguments);return Ee(e[0]=this,Se(this,t,e))}});var Ai=M.prototype;function Ri(t,n,i,o,a,e){return xe(t.size),t.__iterate(function(t,e,r){i=a?(a=!1,t):n.call(o,i,t,e,r)},e),i}function ji(t,e){return e}function qi(t,e){return[e,t]}function Ci(t){return function(){return!t.apply(this,arguments)}}function Bi(t){return function(){return-t.apply(this,arguments)}}function Ti(){return Me(arguments)}function Fi(t,e){return t<e?1:e<t?-1:0}function Pi(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}Ai[v]=!0,Ai[F]=!0,oi(A,{get:function(t,e){return this.has(t)?t:e},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}}),A.prototype.has=Di.includes,A.prototype.contains=A.prototype.includes,oi(at,O.prototype),oi(ct,M.prototype),oi(pt,A.prototype);var Ui,Li=((Ui=ci)&&(Vi.__proto__=Ui),((Vi.prototype=Object.create(Ui&&Ui.prototype)).constructor=Vi).of=function(){return this(arguments)},Vi.fromKeys=function(t){return this(O(t).keySeq())},Vi.prototype.toString=function(){return this.__toString("OrderedSet {","}")},Vi);function Vi(r){return null==r?Hi():ni(r)?r:Hi().withMutations(function(e){var t=A(r);xe(t.size),t.forEach(function(t){return e.add(t)})})}Li.isOrderedSet=ni;var Ki,Xi=Li.prototype;function Ji(t,e){var r=Object.create(Xi);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}function Hi(){return Ki=Ki||Ji(sn())}Xi[F]=!0,Xi.zip=Ai.zip,Xi.zipWith=Ai.zipWith,Xi.__empty=Hi,Xi.__make=Ji;function Wi(a,s){var u,c=function(t){var n=this;if(t instanceof c)return t;if(!(this instanceof c))return new c(t);if(!u){u=!0;var e=Object.keys(a),r=h._indices={};h._name=s,h._keys=e,h._defaultValues=a;for(var i=0;i<e.length;i++){var o=e[i];r[o]=i,h[o]?"object"==typeof console&&console.warn&&console.warn("Cannot define "+$i(n)+' with property "'+o+'" since that property name is part of the Record API.'):Zi(h,o)}}this.__ownerID=void 0,this._values=Ur().withMutations(function(r){r.setSize(n._keys.length),O(t).forEach(function(t,e){r.set(n._indices[e],t===n._defaultValues[e]?void 0:t)})})},h=c.prototype=Object.create(Gi);return h.constructor=c,s&&(c.displayName=s),c}Wi.prototype.toString=function(){for(var t,e=$i(this)+" { ",r=this._keys,n=0,i=r.length;n!==i;n++)e+=(n?", ":"")+(t=r[n])+": "+qe(this.get(t));return e+" }"},Wi.prototype.equals=function(t){return this===t||t&&this._keys===t._keys&&Qi(this).equals(Qi(t))},Wi.prototype.hashCode=function(){return Qi(this).hashCode()},Wi.prototype.has=function(t){return this._indices.hasOwnProperty(t)},Wi.prototype.get=function(t,e){if(!this.has(t))return e;var r=this._indices[t],n=this._values.get(r);return void 0===n?this._defaultValues[t]:n},Wi.prototype.set=function(t,e){if(this.has(t)){var r=this._values.set(this._indices[t],e===this._defaultValues[t]?void 0:e);if(r!==this._values&&!this.__ownerID)return Yi(this,r)}return this},Wi.prototype.remove=function(t){return this.set(t)},Wi.prototype.clear=function(){var t=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:Yi(this,t)},Wi.prototype.wasAltered=function(){return this._values.wasAltered()},Wi.prototype.toSeq=function(){return Qi(this)},Wi.prototype.toJS=function(){return ai(this)},Wi.prototype.entries=function(){return this.__iterator(V)},Wi.prototype.__iterator=function(t,e){return Qi(this).__iterator(t,e)},Wi.prototype.__iterate=function(t,e){return Qi(this).__iterate(t,e)},Wi.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._values.__ensureOwner(t);return t?Yi(this,e,t):(this.__ownerID=t,this._values=e,this)},Wi.isRecord=B,Wi.getDescriptiveName=$i;var Gi=Wi.prototype;function Yi(t,e,r){var n=Object.create(Object.getPrototypeOf(t));return n._values=e,n.__ownerID=r,n}function $i(t){return t.constructor.displayName||t.constructor.name||"Record"}function Qi(e){return It(e._keys.map(function(t){return[t,e.get(t)]}))}function Zi(t,e){try{Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(t){De(this.__ownerID,"Cannot set on an immutable record."),this.set(e,t)}})}catch(t){}}Gi[C]=!0,Gi[e]=Gi.remove,Gi.deleteIn=Gi.removeIn=Xe,Gi.getIn=Ni,Gi.hasIn=Di.hasIn,Gi.merge=Ge,Gi.mergeWith=Ye,Gi.mergeIn=ar,Gi.mergeDeep=ir,Gi.mergeDeepWith=or,Gi.mergeDeepIn=sr,Gi.setIn=Ve,Gi.update=He,Gi.updateIn=We,Gi.withMutations=ur,Gi.asMutable=cr,Gi.asImmutable=hr,Gi[J]=Gi.entries,Gi.toJSON=Gi.toObject=Di.toObject,Gi.inspect=Gi.toSource=function(){return this.toString()};var to,eo,ro=((to=ct)&&(no.__proto__=to),((no.prototype=Object.create(to&&to.prototype)).constructor=no).prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},no.prototype.get=function(t,e){return this.has(t)?this._value:e},no.prototype.includes=function(t){return At(this._value,t)},no.prototype.slice=function(t,e){var r=this.size;return f(t,e,r)?this:new no(this._value,l(e,r)-p(t,r))},no.prototype.reverse=function(){return this},no.prototype.indexOf=function(t){return At(this._value,t)?0:-1},no.prototype.lastIndexOf=function(t){return At(this._value,t)?this.size:-1},no.prototype.__iterate=function(t,e){for(var r=this.size,n=0;n!==r&&!1!==t(this._value,e?r-++n:n++,this););return n},no.prototype.__iterator=function(t,e){var r=this,n=this.size,i=0;return new H(function(){return i===n?{value:void 0,done:!0}:W(t,e?n-++i:i++,r._value)})},no.prototype.equals=function(t){return t instanceof no?At(this._value,t._value):ii(t)},no);function no(t,e){if(!(this instanceof no))return new no(t,e);if(this._value=t,this.size=void 0===e?1/0:Math.max(0,e),0===this.size){if(eo)return eo;eo=this}}function io(t,e){return function r(n,i,o,t,a,e){var s=Array.isArray(o)?ct:Re(o)?at:null;if(s){if(~n.indexOf(o))throw new TypeError("Cannot convert circular structure to Immutable");n.push(o),a&&""!==t&&a.push(t);var u=i.call(e,t,s(o).map(function(t,e){return r(n,i,t,e,a,o)}),a&&a.slice());return n.pop(),a&&a.pop(),u}return o}([],e||oo,t,"",e&&2<e.length?[]:void 0,{"":t})}function oo(t,e){return u(e)?e.toMap():e.toList()}var ao={version:"0.2.11",Collection:d,Iterable:d,Seq:nt,Map:lr,OrderedMap:nn,SortedMap:Fn,List:Ur,Stack:Gn,Set:ci,OrderedSet:Li,SortedSet:di,Record:Wi,Range:ki,Repeat:ro,is:At,fromJS:io,hash:Tt,isImmutable:T,isCollection:h,isKeyed:u,isIndexed:_,isAssociative:y,isOrdered:P,isSorted:jt,isValueObject:xt,isSeq:q,isList:Fr,isMap:Mt,isOrderedMap:Dt,isSortedMap:cn,isStack:Hn,isSet:ri,isOrderedSet:ni,isSortedSet:si,isRecord:B,get:Be,getIn:Oi,has:Ce,hasIn:zi,merge:Qe,mergeDeep:tr,mergeWith:Ze,mergeDeepWith:er,remove:Fe,removeIn:Ke,set:Pe,setIn:Le,update:Je,updateIn:Ue},so=d;t.default=ao,t.version="0.2.11",t.Collection=d,t.Iterable=so,t.Seq=nt,t.Map=lr,t.OrderedMap=nn,t.SortedMap=Fn,t.List=Ur,t.Stack=Gn,t.Set=ci,t.OrderedSet=Li,t.SortedSet=di,t.Record=Wi,t.Range=ki,t.Repeat=ro,t.is=At,t.fromJS=io,t.hash=Tt,t.isImmutable=T,t.isCollection=h,t.isKeyed=u,t.isIndexed=_,t.isAssociative=y,t.isOrdered=P,t.isSorted=jt,t.isValueObject=xt,t.get=Be,t.getIn=Oi,t.has=Ce,t.hasIn=zi,t.merge=Qe,t.mergeDeep=tr,t.mergeWith=Ze,t.mergeDeepWith=er,t.remove=Fe,t.removeIn=Ke,t.set=Pe,t.setIn=Le,t.update=Je,t.updateIn=Ue,Object.defineProperty(t,"__esModule",{value:!0})},"object"==typeof n&&void 0!==r?e(n):"function"==typeof define&&define.amd?define(["exports"],e):e(t.Immutable={})}).call(this,t("_process"))},{_process:12}],12:[function(t,e,r){var n,i,o=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(t){n=a}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(t){i=s}}();var c,h=[],f=!1,p=-1;function l(){f&&c&&(f=!1,c.length?h=c.concat(h):p=-1,h.length&&v())}function v(){if(!f){var t=u(l);f=!0;for(var e=h.length;e;){for(c=h,h=[];++p<e;)c&&c[p].run();p=-1,e=h.length}c=null,f=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(t)}}function _(t,e){this.fun=t,this.array=e}function y(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];h.push(new _(t,e)),1!==h.length||f||u(v)},_.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],13:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=t("immutable-sorted");function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var i=function(){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.recipe=t}return function(t,e,r){e&&n(t.prototype,e),r&&n(t,r)}(e,[{key:"process",value:function(t,e){return this.recipe(t.toKeyedSeq(),e)}},{key:"insert",value:function(t,e,r,n){var i=o.Seq.Keyed([[e,r]]);return this.insertSeq(t,i,n)}},{key:"insertSeq",value:function(t,e,r){var n=this.process(e,r);return t.withMutations(function(r){return n.forEach(function(t,e){return r.set(e,t)})})}},{key:"delete",value:function(t,e,r,n){var i=o.Seq.Keyed([[e,r]]);return this.deleteSeq(t,i,n)}},{key:"deleteSeq",value:function(t,e,r){var n=this.process(e,r);return t.withMutations(function(r){return n.forEach(function(t,e){return r.delete(e)})})}}]),e}();r.default=i},{"immutable-sorted":11}],14:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"Seqen",{enumerable:!0,get:function(){return i.default}}),r.default=void 0;var n,i=(n=t("./SeqenMain"))&&n.__esModule?n:{default:n};var o={Seqen:i.default};r.default=o},{"./SeqenMain":13}]},{},[10]);